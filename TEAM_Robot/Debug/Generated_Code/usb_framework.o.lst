   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.file	"usb_framework.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.section	.bss.g_setup_pkt,"aw",%nobits
  21              		.align	2
  24              	g_setup_pkt:
  25 0000 00000000 		.space	8
  25      00000000 
  26              		.section	.bss.g_std_framework_data,"aw",%nobits
  27              		.align	1
  30              	g_std_framework_data:
  31 0000 0000     		.space	2
  32              		.section	.bss.g_assigned_address,"aw",%nobits
  35              	g_assigned_address:
  36 0000 00       		.space	1
  37              		.section	.bss.g_framework_callback,"aw",%nobits
  38              		.align	2
  41              	g_framework_callback:
  42 0000 00000000 		.space	4
  43              		.section	.bss.g_other_req_callback,"aw",%nobits
  44              		.align	2
  47              	g_other_req_callback:
  48 0000 00000000 		.space	4
  49              		.section	.text.USB_Get_Framework_Callback,"ax",%progbits
  50              		.align	2
  51              		.global	USB_Get_Framework_Callback
  52              		.thumb
  53              		.thumb_func
  55              	USB_Get_Framework_Callback:
  56              	.LFB0:
  57              		.file 1 "../Generated_Code/usb_framework.c"
   1:../Generated_Code/usb_framework.c **** /******************************************************************************
   2:../Generated_Code/usb_framework.c ****  *
   3:../Generated_Code/usb_framework.c ****  * Freescale Semiconductor Inc.
   4:../Generated_Code/usb_framework.c ****  * (c) Copyright 2004-2010 Freescale Semiconductor, Inc.
   5:../Generated_Code/usb_framework.c ****  * ALL RIGHTS RESERVED.
   6:../Generated_Code/usb_framework.c ****  *
   7:../Generated_Code/usb_framework.c ****  ******************************************************************************
   8:../Generated_Code/usb_framework.c ****  *
   9:../Generated_Code/usb_framework.c ****  * THIS SOFTWARE IS PROVIDED BY FREESCALE "AS IS" AND ANY EXPRESSED OR
  10:../Generated_Code/usb_framework.c ****  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
  11:../Generated_Code/usb_framework.c ****  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
  12:../Generated_Code/usb_framework.c ****  * IN NO EVENT SHALL FREESCALE OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
  13:../Generated_Code/usb_framework.c ****  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  14:../Generated_Code/usb_framework.c ****  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  15:../Generated_Code/usb_framework.c ****  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  16:../Generated_Code/usb_framework.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  17:../Generated_Code/usb_framework.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  18:../Generated_Code/usb_framework.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
  19:../Generated_Code/usb_framework.c ****  * THE POSSIBILITY OF SUCH DAMAGE.
  20:../Generated_Code/usb_framework.c ****  *
  21:../Generated_Code/usb_framework.c ****  **************************************************************************//*!
  22:../Generated_Code/usb_framework.c ****  *
  23:../Generated_Code/usb_framework.c ****  * @file usb_framework.c
  24:../Generated_Code/usb_framework.c ****  *
  25:../Generated_Code/usb_framework.c ****  * @author
  26:../Generated_Code/usb_framework.c ****  *
  27:../Generated_Code/usb_framework.c ****  * @version
  28:../Generated_Code/usb_framework.c ****  *
  29:../Generated_Code/usb_framework.c ****  * @date
  30:../Generated_Code/usb_framework.c ****  *
  31:../Generated_Code/usb_framework.c ****  * @brief The file contains USB stack framework module implementation.
  32:../Generated_Code/usb_framework.c ****  *
  33:../Generated_Code/usb_framework.c ****  *****************************************************************************/
  34:../Generated_Code/usb_framework.c **** 
  35:../Generated_Code/usb_framework.c **** /******************************************************************************
  36:../Generated_Code/usb_framework.c ****  * Includes
  37:../Generated_Code/usb_framework.c ****  *****************************************************************************/
  38:../Generated_Code/usb_framework.c **** #include "types.h"          /* Contains User Defined Data Types */
  39:../Generated_Code/usb_framework.c **** #include "usb_class.h"      /* USB class Header File */
  40:../Generated_Code/usb_framework.c **** #include "usb_framework.h"  /* USB Framework Header File */
  41:../Generated_Code/usb_framework.c **** #include "usb_descriptor.h" /* USB descriptor Header File */
  42:../Generated_Code/usb_framework.c **** #if defined(__IAR_SYSTEMS_ICC__)
  43:../Generated_Code/usb_framework.c **** #include <intrinsics.h>
  44:../Generated_Code/usb_framework.c **** #endif
  45:../Generated_Code/usb_framework.c **** #ifdef OTG_BUILD
  46:../Generated_Code/usb_framework.c **** #include "usb_otg_main.h"   /* OTG header file */
  47:../Generated_Code/usb_framework.c **** #endif
  48:../Generated_Code/usb_framework.c **** #include <string.h>
  49:../Generated_Code/usb_framework.c **** /*****************************************************************************
  50:../Generated_Code/usb_framework.c ****  * Constant and Macro's
  51:../Generated_Code/usb_framework.c ****  *****************************************************************************/
  52:../Generated_Code/usb_framework.c **** /****************************************************************************
  53:../Generated_Code/usb_framework.c ****  * Global Variables
  54:../Generated_Code/usb_framework.c ****  ****************************************************************************/
  55:../Generated_Code/usb_framework.c **** static USB_SETUP_STRUCT g_setup_pkt;
  56:../Generated_Code/usb_framework.c **** 
  57:../Generated_Code/usb_framework.c **** /*is used to store the value of data which needs to be sent to the USB
  58:../Generated_Code/usb_framework.c **** host in response to the standard requests.*/
  59:../Generated_Code/usb_framework.c **** static uint_16 g_std_framework_data;
  60:../Generated_Code/usb_framework.c **** /*used to store the address received in Set Address in the standard request.*/
  61:../Generated_Code/usb_framework.c **** static uint_8  g_assigned_address;
  62:../Generated_Code/usb_framework.c **** /* Framework module callback pointer */
  63:../Generated_Code/usb_framework.c **** static USB_CLASS_CALLBACK g_framework_callback=NULL;
  64:../Generated_Code/usb_framework.c **** /* Other Requests Callback pointer */
  65:../Generated_Code/usb_framework.c **** static USB_REQ_FUNC g_other_req_callback=NULL;
  66:../Generated_Code/usb_framework.c **** 
  67:../Generated_Code/usb_framework.c **** #ifdef DELAYED_PROCESSING
  68:../Generated_Code/usb_framework.c **** static USB_DEV_EVENT_STRUCT g_f_event;
  69:../Generated_Code/usb_framework.c **** /* initially no pending request */
  70:../Generated_Code/usb_framework.c **** static boolean g_control_pending=FALSE;
  71:../Generated_Code/usb_framework.c **** #endif
  72:../Generated_Code/usb_framework.c **** 
  73:../Generated_Code/usb_framework.c **** /* << EST:
  74:../Generated_Code/usb_framework.c ****  * Setter and Getter for callback function pointers, so the application can overwrite them
  75:../Generated_Code/usb_framework.c ****  * See https://mcuoneclipse.com/requests/comment-page-5/#comment-86524
  76:../Generated_Code/usb_framework.c ****  */
  77:../Generated_Code/usb_framework.c **** USB_CLASS_CALLBACK USB_Get_Framework_Callback(void) {
  58              		.loc 1 77 0
  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 1, uses_anonymous_args = 0
  62              		@ link register save eliminated.
  63 0000 80B4     		push	{r7}
  64              		.cfi_def_cfa_offset 4
  65              		.cfi_offset 7, -4
  66 0002 00AF     		add	r7, sp, #0
  67              		.cfi_def_cfa_register 7
  78:../Generated_Code/usb_framework.c ****   return g_framework_callback;
  68              		.loc 1 78 0
  69 0004 034B     		ldr	r3, .L3
  70 0006 1B68     		ldr	r3, [r3]
  79:../Generated_Code/usb_framework.c **** }
  71              		.loc 1 79 0
  72 0008 1846     		mov	r0, r3
  73 000a BD46     		mov	sp, r7
  74              		@ sp needed
  75 000c 5DF8047B 		ldr	r7, [sp], #4
  76 0010 7047     		bx	lr
  77              	.L4:
  78 0012 00BF     		.align	2
  79              	.L3:
  80 0014 00000000 		.word	g_framework_callback
  81              		.cfi_endproc
  82              	.LFE0:
  84              		.section	.text.USB_Set_Framework_Callback,"ax",%progbits
  85              		.align	2
  86              		.global	USB_Set_Framework_Callback
  87              		.thumb
  88              		.thumb_func
  90              	USB_Set_Framework_Callback:
  91              	.LFB1:
  80:../Generated_Code/usb_framework.c **** 
  81:../Generated_Code/usb_framework.c **** void USB_Set_Framework_Callback(USB_CLASS_CALLBACK callback) {
  92              		.loc 1 81 0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 8
  95              		@ frame_needed = 1, uses_anonymous_args = 0
  96              		@ link register save eliminated.
  97 0000 80B4     		push	{r7}
  98              		.cfi_def_cfa_offset 4
  99              		.cfi_offset 7, -4
 100 0002 83B0     		sub	sp, sp, #12
 101              		.cfi_def_cfa_offset 16
 102 0004 00AF     		add	r7, sp, #0
 103              		.cfi_def_cfa_register 7
 104 0006 7860     		str	r0, [r7, #4]
  82:../Generated_Code/usb_framework.c ****   g_framework_callback = callback;
 105              		.loc 1 82 0
 106 0008 034B     		ldr	r3, .L6
 107 000a 7A68     		ldr	r2, [r7, #4]
 108 000c 1A60     		str	r2, [r3]
  83:../Generated_Code/usb_framework.c **** }
 109              		.loc 1 83 0
 110 000e 0C37     		adds	r7, r7, #12
 111 0010 BD46     		mov	sp, r7
 112              		@ sp needed
 113 0012 5DF8047B 		ldr	r7, [sp], #4
 114 0016 7047     		bx	lr
 115              	.L7:
 116              		.align	2
 117              	.L6:
 118 0018 00000000 		.word	g_framework_callback
 119              		.cfi_endproc
 120              	.LFE1:
 122              		.section	.text.USB_Get_OtherRequest_Callback,"ax",%progbits
 123              		.align	2
 124              		.global	USB_Get_OtherRequest_Callback
 125              		.thumb
 126              		.thumb_func
 128              	USB_Get_OtherRequest_Callback:
 129              	.LFB2:
  84:../Generated_Code/usb_framework.c **** 
  85:../Generated_Code/usb_framework.c **** USB_REQ_FUNC USB_Get_OtherRequest_Callback(void) {
 130              		.loc 1 85 0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 0
 133              		@ frame_needed = 1, uses_anonymous_args = 0
 134              		@ link register save eliminated.
 135 0000 80B4     		push	{r7}
 136              		.cfi_def_cfa_offset 4
 137              		.cfi_offset 7, -4
 138 0002 00AF     		add	r7, sp, #0
 139              		.cfi_def_cfa_register 7
  86:../Generated_Code/usb_framework.c ****   return g_other_req_callback;
 140              		.loc 1 86 0
 141 0004 034B     		ldr	r3, .L10
 142 0006 1B68     		ldr	r3, [r3]
  87:../Generated_Code/usb_framework.c **** }
 143              		.loc 1 87 0
 144 0008 1846     		mov	r0, r3
 145 000a BD46     		mov	sp, r7
 146              		@ sp needed
 147 000c 5DF8047B 		ldr	r7, [sp], #4
 148 0010 7047     		bx	lr
 149              	.L11:
 150 0012 00BF     		.align	2
 151              	.L10:
 152 0014 00000000 		.word	g_other_req_callback
 153              		.cfi_endproc
 154              	.LFE2:
 156              		.section	.text.USB_Set_OtherRequest_Callback,"ax",%progbits
 157              		.align	2
 158              		.global	USB_Set_OtherRequest_Callback
 159              		.thumb
 160              		.thumb_func
 162              	USB_Set_OtherRequest_Callback:
 163              	.LFB3:
  88:../Generated_Code/usb_framework.c **** 
  89:../Generated_Code/usb_framework.c **** void USB_Set_OtherRequest_Callback(USB_REQ_FUNC callback) {
 164              		.loc 1 89 0
 165              		.cfi_startproc
 166              		@ args = 0, pretend = 0, frame = 8
 167              		@ frame_needed = 1, uses_anonymous_args = 0
 168              		@ link register save eliminated.
 169 0000 80B4     		push	{r7}
 170              		.cfi_def_cfa_offset 4
 171              		.cfi_offset 7, -4
 172 0002 83B0     		sub	sp, sp, #12
 173              		.cfi_def_cfa_offset 16
 174 0004 00AF     		add	r7, sp, #0
 175              		.cfi_def_cfa_register 7
 176 0006 7860     		str	r0, [r7, #4]
  90:../Generated_Code/usb_framework.c ****   g_other_req_callback = callback;
 177              		.loc 1 90 0
 178 0008 034B     		ldr	r3, .L13
 179 000a 7A68     		ldr	r2, [r7, #4]
 180 000c 1A60     		str	r2, [r3]
  91:../Generated_Code/usb_framework.c **** }
 181              		.loc 1 91 0
 182 000e 0C37     		adds	r7, r7, #12
 183 0010 BD46     		mov	sp, r7
 184              		@ sp needed
 185 0012 5DF8047B 		ldr	r7, [sp], #4
 186 0016 7047     		bx	lr
 187              	.L14:
 188              		.align	2
 189              	.L13:
 190 0018 00000000 		.word	g_other_req_callback
 191              		.cfi_endproc
 192              	.LFE3:
 194              		.global	g_validate_request
 195              		.section	.rodata.g_validate_request,"a",%progbits
 196              		.align	2
 199              	g_validate_request:
 200 0000 01       		.byte	1
 201 0001 01       		.byte	1
 202 0002 00       		.byte	0
 203 0003 01       		.byte	1
 204 0004 01       		.byte	1
 205 0005 00       		.byte	0
 206 0006 00       		.byte	0
 207 0007 00       		.byte	0
 208 0008 00       		.byte	0
 209 0009 01       		.byte	1
 210 000a 01       		.byte	1
 211 000b 00       		.byte	0
 212 000c 00       		.byte	0
 213 000d 00       		.byte	0
 214 000e 00       		.byte	0
 215 000f 00       		.byte	0
 216 0010 01       		.byte	1
 217 0011 01       		.byte	1
 218 0012 01       		.byte	1
 219 0013 01       		.byte	1
 220 0014 01       		.byte	1
 221 0015 00       		.byte	0
 222 0016 00       		.byte	0
 223 0017 00       		.byte	0
 224 0018 01       		.byte	1
 225 0019 01       		.byte	1
 226 001a 00       		.byte	0
 227 001b 01       		.byte	1
 228 001c 01       		.byte	1
 229 001d 00       		.byte	0
 230 001e 01       		.byte	1
 231 001f 00       		.byte	0
 232 0020 00       		.byte	0
 233 0021 01       		.byte	1
 234 0022 00       		.byte	0
 235 0023 00       		.byte	0
 236 0024 01       		.byte	1
 237 0025 00       		.byte	0
 238 0026 00       		.byte	0
 239 0027 00       		.section	.bss.ext_req_to_host,"aw",%nobits
 240              		.align	2
 243              	ext_req_to_host:
 244 0000 00000000 		.space	40
 244      00000000 
 244      00000000 
 244      00000000 
 244      00000000 
 245              		.global	g_standard_request
 246              		.section	.rodata.g_standard_request,"a",%progbits
 247              		.align	2
 250              	g_standard_request:
 251 0000 00000000 		.word	USB_Strd_Req_Get_Status
 252 0004 00000000 		.word	USB_Strd_Req_Feature
 253 0008 00000000 		.word	0
 254 000c 00000000 		.word	USB_Strd_Req_Feature
 255 0010 00000000 		.word	0
 256 0014 00000000 		.word	USB_Strd_Req_Set_Address
 257 0018 00000000 		.word	USB_Strd_Req_Get_Descriptor
 258 001c 00000000 		.word	0
 259 0020 00000000 		.word	USB_Strd_Req_Get_Config
 260 0024 00000000 		.word	USB_Strd_Req_Set_Config
 261 0028 00000000 		.word	USB_Strd_Req_Get_Interface
 262 002c 00000000 		.word	USB_Strd_Req_Set_Interface
 263 0030 00000000 		.word	USB_Strd_Req_Sync_Frame
 264              		.section	.text.USB_Framework_Init,"ax",%progbits
 265              		.align	2
 266              		.global	USB_Framework_Init
 267              		.thumb
 268              		.thumb_func
 270              	USB_Framework_Init:
 271              	.LFB4:
  92:../Generated_Code/usb_framework.c **** /* << EST end */
  93:../Generated_Code/usb_framework.c **** 
  94:../Generated_Code/usb_framework.c **** boolean const g_validate_request[MAX_STRD_REQ][3] =
  95:../Generated_Code/usb_framework.c **** {
  96:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,FALSE}, /*USB_Strd_Req_Get_Status*/
  97:../Generated_Code/usb_framework.c ****          /* configured state: valid for existing interfaces/endpoints
  98:../Generated_Code/usb_framework.c ****             address state   : valid only for interface or endpoint 0
  99:../Generated_Code/usb_framework.c ****             default state   : not specified
 100:../Generated_Code/usb_framework.c ****          */
 101:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,FALSE}, /* Clear Feature */
 102:../Generated_Code/usb_framework.c ****          /* configured state: valid only for device in configured state
 103:../Generated_Code/usb_framework.c ****             address state   : valid only for device (in address state),
 104:../Generated_Code/usb_framework.c ****                               interface and endpoint 0
 105:../Generated_Code/usb_framework.c ****             default state   : not specified
 106:../Generated_Code/usb_framework.c ****          */
 107:../Generated_Code/usb_framework.c ****   {FALSE,FALSE,FALSE}, /*reserved for future use*/
 108:../Generated_Code/usb_framework.c ****          /* configured state: request not supported
 109:../Generated_Code/usb_framework.c ****             address state   : request not supported
 110:../Generated_Code/usb_framework.c ****             default state   : request not supported
 111:../Generated_Code/usb_framework.c ****          */
 112:../Generated_Code/usb_framework.c **** #ifdef OTG_BUILD
 113:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,TRUE}, /* Set Feature */
 114:../Generated_Code/usb_framework.c ****         /*  configured state: A B-device that supports OTG features
 115:../Generated_Code/usb_framework.c ****             address state   : shall be able to accept the SetFeature command
 116:../Generated_Code/usb_framework.c ****             default state   : in the Default, Addressed and Configured states
 117:../Generated_Code/usb_framework.c ****         */
 118:../Generated_Code/usb_framework.c **** #else
 119:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,FALSE}, /* Set Feature */
 120:../Generated_Code/usb_framework.c ****         /*  configured state: valid only for device in configured state
 121:../Generated_Code/usb_framework.c ****             address state   : valid only for interface or endpoint 0
 122:../Generated_Code/usb_framework.c ****             default state   : not specified
 123:../Generated_Code/usb_framework.c ****         */
 124:../Generated_Code/usb_framework.c **** #endif
 125:../Generated_Code/usb_framework.c **** 
 126:../Generated_Code/usb_framework.c ****   {FALSE,FALSE,FALSE},/*reserved for future use*/
 127:../Generated_Code/usb_framework.c ****         /*  configured state: request not supported
 128:../Generated_Code/usb_framework.c ****             address state   : request not supported
 129:../Generated_Code/usb_framework.c ****             default state   : request not supported
 130:../Generated_Code/usb_framework.c ****          */
 131:../Generated_Code/usb_framework.c ****   {FALSE,TRUE,TRUE}, /*USB_Strd_Req_Set_Address*/
 132:../Generated_Code/usb_framework.c ****         /*  configured state: not specified
 133:../Generated_Code/usb_framework.c ****             address state   : changes to default state if specified addr == 0,
 134:../Generated_Code/usb_framework.c ****                               but uses newly specified address
 135:../Generated_Code/usb_framework.c ****             default state   : changes to address state if specified addr != 0
 136:../Generated_Code/usb_framework.c ****          */
 137:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,TRUE}, /*USB_Strd_Req_Get_Descriptor*/
 138:../Generated_Code/usb_framework.c ****          /* configured state: valid request
 139:../Generated_Code/usb_framework.c ****             address state   : valid request
 140:../Generated_Code/usb_framework.c ****             default state   : valid request
 141:../Generated_Code/usb_framework.c ****          */
 142:../Generated_Code/usb_framework.c ****   {FALSE,FALSE,FALSE}, /*Set Descriptor*/
 143:../Generated_Code/usb_framework.c ****          /* configured state: request not supported
 144:../Generated_Code/usb_framework.c ****             address state   : request not supported
 145:../Generated_Code/usb_framework.c ****             default state   : request not supported
 146:../Generated_Code/usb_framework.c ****          */
 147:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,FALSE}, /*USB_Strd_Req_Get_Config*/
 148:../Generated_Code/usb_framework.c ****          /* configured state: bConfiguration Value of current config returned
 149:../Generated_Code/usb_framework.c ****             address state   : value zero must be returned
 150:../Generated_Code/usb_framework.c ****             default state   : not specified
 151:../Generated_Code/usb_framework.c ****          */
 152:../Generated_Code/usb_framework.c ****   {TRUE,TRUE,FALSE}, /*USB_Strd_Req_Set_Config*/
 153:../Generated_Code/usb_framework.c ****          /* configured state: If the specified configuration value is zero,
 154:../Generated_Code/usb_framework.c ****                               then the device enters the Address state.If the
 155:../Generated_Code/usb_framework.c ****                               specified configuration value matches the
 156:../Generated_Code/usb_framework.c ****                               configuration value from a config descriptor,
 157:../Generated_Code/usb_framework.c ****                               then that config is selected and the device
 158:../Generated_Code/usb_framework.c ****                               remains in the Configured state. Otherwise, the
 159:../Generated_Code/usb_framework.c ****                               device responds with a Request Error.
 160:../Generated_Code/usb_framework.c **** 
 161:../Generated_Code/usb_framework.c ****             address state   : If the specified configuration value is zero,
 162:../Generated_Code/usb_framework.c ****                               then the device remains in the Address state. If
 163:../Generated_Code/usb_framework.c ****                               the specified configuration value matches the
 164:../Generated_Code/usb_framework.c ****                               configuration value from a configuration
 165:../Generated_Code/usb_framework.c ****                               descriptor, then that configuration is selected
 166:../Generated_Code/usb_framework.c ****                               and the device enters the Configured state.
 167:../Generated_Code/usb_framework.c ****                               Otherwise,response is Request Error.
 168:../Generated_Code/usb_framework.c ****             default state   : not specified
 169:../Generated_Code/usb_framework.c ****          */
 170:../Generated_Code/usb_framework.c ****   {TRUE,FALSE,FALSE}, /*USB_Strd_Req_Get_Interface*/
 171:../Generated_Code/usb_framework.c ****          /* configured state: valid request
 172:../Generated_Code/usb_framework.c ****             address state   : request error
 173:../Generated_Code/usb_framework.c ****             default state   : not specified
 174:../Generated_Code/usb_framework.c ****          */
 175:../Generated_Code/usb_framework.c ****   {TRUE,FALSE,FALSE}, /*USB_Strd_Req_Set_Interface*/
 176:../Generated_Code/usb_framework.c ****          /* configured state: valid request
 177:../Generated_Code/usb_framework.c ****             address state   : request error
 178:../Generated_Code/usb_framework.c ****             default state   : not specified
 179:../Generated_Code/usb_framework.c ****          */
 180:../Generated_Code/usb_framework.c ****   {TRUE,FALSE,FALSE} /*USB_Strd_Req_Sync_Frame*/
 181:../Generated_Code/usb_framework.c ****          /* configured state: valid request
 182:../Generated_Code/usb_framework.c ****             address state   : request error
 183:../Generated_Code/usb_framework.c ****             default state   : not specified
 184:../Generated_Code/usb_framework.c ****          */
 185:../Generated_Code/usb_framework.c **** };
 186:../Generated_Code/usb_framework.c **** /*****************************************************************************
 187:../Generated_Code/usb_framework.c ****  * Global Functions Prototypes - None
 188:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 189:../Generated_Code/usb_framework.c **** 
 190:../Generated_Code/usb_framework.c **** /*****************************************************************************
 191:../Generated_Code/usb_framework.c ****  * Local Types - None
 192:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 193:../Generated_Code/usb_framework.c **** 
 194:../Generated_Code/usb_framework.c **** /*****************************************************************************
 195:../Generated_Code/usb_framework.c ****  * Local Functions Prototypes
 196:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 197:../Generated_Code/usb_framework.c **** void USB_Control_Service (PTR_USB_DEV_EVENT_STRUCT event );
 198:../Generated_Code/usb_framework.c **** static void USB_Control_Service_Handler(uint_8 controller_ID,
 199:../Generated_Code/usb_framework.c ****                                 uint_8 status,
 200:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 201:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 202:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 203:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Status(uint_8      controller_ID,
 204:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 205:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 206:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 207:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Feature(uint_8     controller_ID,
 208:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 209:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 210:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 211:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Set_Address(uint_8     controller_ID,
 212:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 213:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 214:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 215:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Assign_Address(uint_8 controller_ID);
 216:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Config(uint_8      controller_ID,
 217:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 218:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 219:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 220:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Set_Config(uint_8      controller_ID,
 221:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 222:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 223:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 224:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Interface(uint_8   controller_ID,
 225:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 226:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 227:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 228:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Set_Interface(uint_8   controller_ID,
 229:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 230:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 231:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 232:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Sync_Frame(uint_8      controller_ID,
 233:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 234:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 235:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 236:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Descriptor(uint_8      controller_ID,
 237:../Generated_Code/usb_framework.c ****                                 USB_SETUP_STRUCT * setup_packet,
 238:../Generated_Code/usb_framework.c ****                                 uint_8_ptr *data,
 239:../Generated_Code/usb_framework.c ****                                 USB_PACKET_SIZE *size);
 240:../Generated_Code/usb_framework.c **** 
 241:../Generated_Code/usb_framework.c **** #ifdef DELAYED_PROCESSING
 242:../Generated_Code/usb_framework.c **** static void USB_Control_Service_Callback(PTR_USB_DEV_EVENT_STRUCT event );
 243:../Generated_Code/usb_framework.c **** #endif
 244:../Generated_Code/usb_framework.c **** 
 245:../Generated_Code/usb_framework.c **** /*****************************************************************************
 246:../Generated_Code/usb_framework.c ****  * Local Functions Prototypes
 247:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 248:../Generated_Code/usb_framework.c **** 
 249:../Generated_Code/usb_framework.c **** /*****************************************************************************
 250:../Generated_Code/usb_framework.c ****  * Local Variables
 251:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 252:../Generated_Code/usb_framework.c **** static uint_8 ext_req_to_host[USB_OUT_PKT_SIZE + USB_SETUP_PKT_SIZE];/* used for extended OUT trans
 253:../Generated_Code/usb_framework.c ****                                        CONTROL ENDPOINT*/
 254:../Generated_Code/usb_framework.c **** /*****************************************************************************
 255:../Generated_Code/usb_framework.c ****  * Global Variables
 256:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 257:../Generated_Code/usb_framework.c **** USB_REQ_FUNC
 258:../Generated_Code/usb_framework.c **** #if 0 /* << EST */
 259:../Generated_Code/usb_framework.c **** #if ((!defined(_MC9S08MM128_H)) && (!defined(_MC9S08JE128_H)))
 260:../Generated_Code/usb_framework.c **** const
 261:../Generated_Code/usb_framework.c **** #endif
 262:../Generated_Code/usb_framework.c **** #else
 263:../Generated_Code/usb_framework.c **** /* device is Kinetis K22F120 << EST */
 264:../Generated_Code/usb_framework.c **** const
 265:../Generated_Code/usb_framework.c **** #endif
 266:../Generated_Code/usb_framework.c **** g_standard_request[MAX_STRD_REQ] =
 267:../Generated_Code/usb_framework.c **** {
 268:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Get_Status,
 269:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Feature,
 270:../Generated_Code/usb_framework.c ****     NULL,
 271:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Feature,
 272:../Generated_Code/usb_framework.c ****     NULL,
 273:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Set_Address,
 274:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Get_Descriptor,
 275:../Generated_Code/usb_framework.c ****     NULL,
 276:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Get_Config,
 277:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Set_Config,
 278:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Get_Interface,
 279:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Set_Interface,
 280:../Generated_Code/usb_framework.c ****     USB_Strd_Req_Sync_Frame
 281:../Generated_Code/usb_framework.c **** };
 282:../Generated_Code/usb_framework.c **** 
 283:../Generated_Code/usb_framework.c **** #if 0 /* << EST */
 284:../Generated_Code/usb_framework.c **** #if (defined(_MC9S08MM128_H) || defined(_MC9S08JE128_H))
 285:../Generated_Code/usb_framework.c **** #pragma CODE_SEG DEFAULT
 286:../Generated_Code/usb_framework.c **** #endif
 287:../Generated_Code/usb_framework.c **** #else
 288:../Generated_Code/usb_framework.c **** /* device is Kinetis K22F120 << EST */
 289:../Generated_Code/usb_framework.c **** #endif
 290:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 291:../Generated_Code/usb_framework.c ****  *
 292:../Generated_Code/usb_framework.c ****  * @name  USB_Framework_Init
 293:../Generated_Code/usb_framework.c ****  *
 294:../Generated_Code/usb_framework.c ****  * @brief The function initializes the Class Module
 295:../Generated_Code/usb_framework.c ****  *
 296:../Generated_Code/usb_framework.c ****  * @param controller_ID     : Controller ID
 297:../Generated_Code/usb_framework.c ****  * @param class_callback    : Class callback pointer
 298:../Generated_Code/usb_framework.c ****  * @param other_req_callback: Other Request Callback
 299:../Generated_Code/usb_framework.c ****  *
 300:../Generated_Code/usb_framework.c ****  * @return status
 301:../Generated_Code/usb_framework.c ****  *         USB_OK           : When Successfull
 302:../Generated_Code/usb_framework.c ****  *         Others           : Errors
 303:../Generated_Code/usb_framework.c ****  *
 304:../Generated_Code/usb_framework.c ****  ******************************************************************************
 305:../Generated_Code/usb_framework.c ****  * This function registers the service on the control endpoint
 306:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 307:../Generated_Code/usb_framework.c **** uint_8 USB_Framework_Init (
 308:../Generated_Code/usb_framework.c ****     uint_8              controller_ID,       /* [IN] Controller ID */
 309:../Generated_Code/usb_framework.c ****     USB_CLASS_CALLBACK  class_callback,      /* Class Callback */
 310:../Generated_Code/usb_framework.c ****     USB_REQ_FUNC        other_req_callback   /* Other Request Callback */
 311:../Generated_Code/usb_framework.c **** )
 312:../Generated_Code/usb_framework.c **** {
 272              		.loc 1 312 0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 24
 275              		@ frame_needed = 1, uses_anonymous_args = 0
 276 0000 80B5     		push	{r7, lr}
 277              		.cfi_def_cfa_offset 8
 278              		.cfi_offset 7, -8
 279              		.cfi_offset 14, -4
 280 0002 86B0     		sub	sp, sp, #24
 281              		.cfi_def_cfa_offset 32
 282 0004 00AF     		add	r7, sp, #0
 283              		.cfi_def_cfa_register 7
 284 0006 0346     		mov	r3, r0
 285 0008 B960     		str	r1, [r7, #8]
 286 000a 7A60     		str	r2, [r7, #4]
 287 000c FB73     		strb	r3, [r7, #15]
 313:../Generated_Code/usb_framework.c ****     uint_8 error=USB_OK;
 288              		.loc 1 313 0
 289 000e 0023     		movs	r3, #0
 290 0010 FB75     		strb	r3, [r7, #23]
 314:../Generated_Code/usb_framework.c **** 
 315:../Generated_Code/usb_framework.c ****     /* save input parameters */
 316:../Generated_Code/usb_framework.c ****     g_framework_callback = class_callback;
 291              		.loc 1 316 0
 292 0012 094B     		ldr	r3, .L17
 293 0014 BA68     		ldr	r2, [r7, #8]
 294 0016 1A60     		str	r2, [r3]
 317:../Generated_Code/usb_framework.c ****     g_other_req_callback = other_req_callback;
 295              		.loc 1 317 0
 296 0018 084B     		ldr	r3, .L17+4
 297 001a 7A68     		ldr	r2, [r7, #4]
 298 001c 1A60     		str	r2, [r3]
 318:../Generated_Code/usb_framework.c **** 
 319:../Generated_Code/usb_framework.c ****     /* Register CONTROL service */
 320:../Generated_Code/usb_framework.c ****     error = _usb_device_register_service(controller_ID, USB_SERVICE_EP0,
 299              		.loc 1 320 0
 300 001e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 301 0020 1846     		mov	r0, r3
 302 0022 0021     		movs	r1, #0
 303 0024 064A     		ldr	r2, .L17+8
 304 0026 FFF7FEFF 		bl	_usb_device_register_service
 305 002a 0346     		mov	r3, r0
 306 002c FB75     		strb	r3, [r7, #23]
 321:../Generated_Code/usb_framework.c **** 
 322:../Generated_Code/usb_framework.c **** #ifdef DELAYED_PROCESSING
 323:../Generated_Code/usb_framework.c ****         USB_Control_Service_Callback
 324:../Generated_Code/usb_framework.c **** #else
 325:../Generated_Code/usb_framework.c ****         USB_Control_Service
 326:../Generated_Code/usb_framework.c **** #endif
 327:../Generated_Code/usb_framework.c ****         );
 328:../Generated_Code/usb_framework.c **** 
 329:../Generated_Code/usb_framework.c ****     return error;
 307              		.loc 1 329 0
 308 002e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 330:../Generated_Code/usb_framework.c **** }
 309              		.loc 1 330 0
 310 0030 1846     		mov	r0, r3
 311 0032 1837     		adds	r7, r7, #24
 312 0034 BD46     		mov	sp, r7
 313              		@ sp needed
 314 0036 80BD     		pop	{r7, pc}
 315              	.L18:
 316              		.align	2
 317              	.L17:
 318 0038 00000000 		.word	g_framework_callback
 319 003c 00000000 		.word	g_other_req_callback
 320 0040 00000000 		.word	USB_Control_Service
 321              		.cfi_endproc
 322              	.LFE4:
 324              		.section	.text.USB_Framework_DeInit,"ax",%progbits
 325              		.align	2
 326              		.global	USB_Framework_DeInit
 327              		.thumb
 328              		.thumb_func
 330              	USB_Framework_DeInit:
 331              	.LFB5:
 331:../Generated_Code/usb_framework.c **** 
 332:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 333:../Generated_Code/usb_framework.c ****  *
 334:../Generated_Code/usb_framework.c ****  * @name  USB_Framework_DeInit
 335:../Generated_Code/usb_framework.c ****  *
 336:../Generated_Code/usb_framework.c ****  * @brief The function De-initializes the Class Module
 337:../Generated_Code/usb_framework.c ****  *
 338:../Generated_Code/usb_framework.c ****  * @param controller_ID     : Controller ID
 339:../Generated_Code/usb_framework.c ****  *
 340:../Generated_Code/usb_framework.c ****  * @return status
 341:../Generated_Code/usb_framework.c ****  *         USB_OK           : When Successfull
 342:../Generated_Code/usb_framework.c ****  *         Others           : Errors
 343:../Generated_Code/usb_framework.c ****  *
 344:../Generated_Code/usb_framework.c ****  ******************************************************************************
 345:../Generated_Code/usb_framework.c ****  * This function unregisters control service
 346:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 347:../Generated_Code/usb_framework.c **** uint_8 USB_Framework_DeInit
 348:../Generated_Code/usb_framework.c **** (
 349:../Generated_Code/usb_framework.c ****     uint_8 controller_ID       /* [IN] Controller ID */
 350:../Generated_Code/usb_framework.c **** )
 351:../Generated_Code/usb_framework.c **** {
 332              		.loc 1 351 0
 333              		.cfi_startproc
 334              		@ args = 0, pretend = 0, frame = 16
 335              		@ frame_needed = 1, uses_anonymous_args = 0
 336 0000 80B5     		push	{r7, lr}
 337              		.cfi_def_cfa_offset 8
 338              		.cfi_offset 7, -8
 339              		.cfi_offset 14, -4
 340 0002 84B0     		sub	sp, sp, #16
 341              		.cfi_def_cfa_offset 24
 342 0004 00AF     		add	r7, sp, #0
 343              		.cfi_def_cfa_register 7
 344 0006 0346     		mov	r3, r0
 345 0008 FB71     		strb	r3, [r7, #7]
 352:../Generated_Code/usb_framework.c ****     uint_8 error;
 353:../Generated_Code/usb_framework.c ****     /* Free framwork_callback */
 354:../Generated_Code/usb_framework.c ****     g_framework_callback = NULL;
 346              		.loc 1 354 0
 347 000a 094B     		ldr	r3, .L21
 348 000c 0022     		movs	r2, #0
 349 000e 1A60     		str	r2, [r3]
 355:../Generated_Code/usb_framework.c **** 
 356:../Generated_Code/usb_framework.c ****     /* Free other_req_callback */
 357:../Generated_Code/usb_framework.c ****     g_other_req_callback = NULL;
 350              		.loc 1 357 0
 351 0010 084B     		ldr	r3, .L21+4
 352 0012 0022     		movs	r2, #0
 353 0014 1A60     		str	r2, [r3]
 358:../Generated_Code/usb_framework.c **** 
 359:../Generated_Code/usb_framework.c ****     /* Unregister CONTROL service */
 360:../Generated_Code/usb_framework.c ****     error = _usb_device_unregister_service(&controller_ID, USB_SERVICE_EP0);
 354              		.loc 1 360 0
 355 0016 FB1D     		adds	r3, r7, #7
 356 0018 1846     		mov	r0, r3
 357 001a 0021     		movs	r1, #0
 358 001c FFF7FEFF 		bl	_usb_device_unregister_service
 359 0020 0346     		mov	r3, r0
 360 0022 FB73     		strb	r3, [r7, #15]
 361:../Generated_Code/usb_framework.c **** 
 362:../Generated_Code/usb_framework.c ****     /* Return error */
 363:../Generated_Code/usb_framework.c ****     return error;
 361              		.loc 1 363 0
 362 0024 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 364:../Generated_Code/usb_framework.c **** }
 363              		.loc 1 364 0
 364 0026 1846     		mov	r0, r3
 365 0028 1037     		adds	r7, r7, #16
 366 002a BD46     		mov	sp, r7
 367              		@ sp needed
 368 002c 80BD     		pop	{r7, pc}
 369              	.L22:
 370 002e 00BF     		.align	2
 371              	.L21:
 372 0030 00000000 		.word	g_framework_callback
 373 0034 00000000 		.word	g_other_req_callback
 374              		.cfi_endproc
 375              	.LFE5:
 377              		.section	.text.USB_Framework_Reset,"ax",%progbits
 378              		.align	2
 379              		.global	USB_Framework_Reset
 380              		.thumb
 381              		.thumb_func
 383              	USB_Framework_Reset:
 384              	.LFB6:
 365:../Generated_Code/usb_framework.c **** #ifdef DELAYED_PROCESSING
 366:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 367:../Generated_Code/usb_framework.c ****  *
 368:../Generated_Code/usb_framework.c ****  * @name  USB_Framework_Periodic_Task
 369:../Generated_Code/usb_framework.c ****  *
 370:../Generated_Code/usb_framework.c ****  * @brief The function is called to respond to any control request
 371:../Generated_Code/usb_framework.c ****  *
 372:../Generated_Code/usb_framework.c ****  * @param None
 373:../Generated_Code/usb_framework.c ****  *
 374:../Generated_Code/usb_framework.c ****  * @return None
 375:../Generated_Code/usb_framework.c ****  *
 376:../Generated_Code/usb_framework.c ****  ******************************************************************************
 377:../Generated_Code/usb_framework.c ****  * This function checks for any pending requests and handles them if any
 378:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 379:../Generated_Code/usb_framework.c **** void USB_Framework_Periodic_Task(void)
 380:../Generated_Code/usb_framework.c **** {
 381:../Generated_Code/usb_framework.c ****     /* if control request pending to be completed */
 382:../Generated_Code/usb_framework.c ****     if(g_control_pending==TRUE)
 383:../Generated_Code/usb_framework.c ****     {
 384:../Generated_Code/usb_framework.c ****         /* handle pending control request */
 385:../Generated_Code/usb_framework.c ****         USB_Control_Service(&g_f_event);
 386:../Generated_Code/usb_framework.c ****         g_control_pending = FALSE;
 387:../Generated_Code/usb_framework.c ****     }
 388:../Generated_Code/usb_framework.c **** }
 389:../Generated_Code/usb_framework.c **** #endif
 390:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 391:../Generated_Code/usb_framework.c ****  *
 392:../Generated_Code/usb_framework.c ****  * @name  USB_Framework_Reset
 393:../Generated_Code/usb_framework.c ****  *
 394:../Generated_Code/usb_framework.c ****  * @brief The function resets the framework
 395:../Generated_Code/usb_framework.c ****  *
 396:../Generated_Code/usb_framework.c ****  * @param controller_ID     : Controller ID
 397:../Generated_Code/usb_framework.c ****  *
 398:../Generated_Code/usb_framework.c ****  * @return status
 399:../Generated_Code/usb_framework.c ****  *         USB_OK           : When Successfull
 400:../Generated_Code/usb_framework.c ****  *
 401:../Generated_Code/usb_framework.c ****  ******************************************************************************
 402:../Generated_Code/usb_framework.c ****  * This function is used to reset the framework module
 403:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 404:../Generated_Code/usb_framework.c **** uint_8 USB_Framework_Reset (
 405:../Generated_Code/usb_framework.c ****     uint_8 controller_ID /* [IN] Controller ID */
 406:../Generated_Code/usb_framework.c **** )
 407:../Generated_Code/usb_framework.c **** {
 385              		.loc 1 407 0
 386              		.cfi_startproc
 387              		@ args = 0, pretend = 0, frame = 8
 388              		@ frame_needed = 1, uses_anonymous_args = 0
 389              		@ link register save eliminated.
 390 0000 80B4     		push	{r7}
 391              		.cfi_def_cfa_offset 4
 392              		.cfi_offset 7, -4
 393 0002 83B0     		sub	sp, sp, #12
 394              		.cfi_def_cfa_offset 16
 395 0004 00AF     		add	r7, sp, #0
 396              		.cfi_def_cfa_register 7
 397 0006 0346     		mov	r3, r0
 398 0008 FB71     		strb	r3, [r7, #7]
 408:../Generated_Code/usb_framework.c ****     UNUSED (controller_ID)
 409:../Generated_Code/usb_framework.c ****     return USB_OK;
 399              		.loc 1 409 0
 400 000a 0023     		movs	r3, #0
 410:../Generated_Code/usb_framework.c **** }
 401              		.loc 1 410 0
 402 000c 1846     		mov	r0, r3
 403 000e 0C37     		adds	r7, r7, #12
 404 0010 BD46     		mov	sp, r7
 405              		@ sp needed
 406 0012 5DF8047B 		ldr	r7, [sp], #4
 407 0016 7047     		bx	lr
 408              		.cfi_endproc
 409              	.LFE6:
 411              		.section	.text.USB_Control_Service,"ax",%progbits
 412              		.align	2
 413              		.global	USB_Control_Service
 414              		.thumb
 415              		.thumb_func
 417              	USB_Control_Service:
 418              	.LFB7:
 411:../Generated_Code/usb_framework.c **** 
 412:../Generated_Code/usb_framework.c **** #ifdef DELAYED_PROCESSING
 413:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 414:../Generated_Code/usb_framework.c ****  *
 415:../Generated_Code/usb_framework.c ****  * @name  USB_Control_Service_Callback
 416:../Generated_Code/usb_framework.c ****  *
 417:../Generated_Code/usb_framework.c ****  * @brief The function can be used as a callback function to the service.
 418:../Generated_Code/usb_framework.c ****  *
 419:../Generated_Code/usb_framework.c ****  * @param event : Pointer to USB Event Structure
 420:../Generated_Code/usb_framework.c ****  *
 421:../Generated_Code/usb_framework.c ****  * @return None
 422:../Generated_Code/usb_framework.c ****  *
 423:../Generated_Code/usb_framework.c ****  ******************************************************************************
 424:../Generated_Code/usb_framework.c ****  * This function saves the event parameters and queues a pending request
 425:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 426:../Generated_Code/usb_framework.c **** void USB_Control_Service_Callback (
 427:../Generated_Code/usb_framework.c ****     PTR_USB_DEV_EVENT_STRUCT event /* [IN] Pointer to USB Event Structure */
 428:../Generated_Code/usb_framework.c **** )
 429:../Generated_Code/usb_framework.c **** {
 430:../Generated_Code/usb_framework.c ****     /* save the event parameters */
 431:../Generated_Code/usb_framework.c ****     g_f_event.buffer_ptr = event->buffer_ptr;
 432:../Generated_Code/usb_framework.c ****     g_f_event.controller_ID = event->controller_ID;
 433:../Generated_Code/usb_framework.c ****     g_f_event.ep_num = event->ep_num;
 434:../Generated_Code/usb_framework.c ****     g_f_event.setup  = event->setup;
 435:../Generated_Code/usb_framework.c ****     g_f_event.len = event->len;
 436:../Generated_Code/usb_framework.c ****     g_f_event.errors = event->errors;
 437:../Generated_Code/usb_framework.c **** 
 438:../Generated_Code/usb_framework.c ****     /* set the pending request flag */
 439:../Generated_Code/usb_framework.c ****     g_control_pending = TRUE;
 440:../Generated_Code/usb_framework.c **** 
 441:../Generated_Code/usb_framework.c **** }
 442:../Generated_Code/usb_framework.c **** #endif
 443:../Generated_Code/usb_framework.c **** 
 444:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 445:../Generated_Code/usb_framework.c ****  *
 446:../Generated_Code/usb_framework.c ****  * @name  USB_Control_Service
 447:../Generated_Code/usb_framework.c ****  *
 448:../Generated_Code/usb_framework.c ****  * @brief Called upon a completed endpoint 0 transfer
 449:../Generated_Code/usb_framework.c ****  *
 450:../Generated_Code/usb_framework.c ****  * @param event : Pointer to USB Event Structure
 451:../Generated_Code/usb_framework.c ****  *
 452:../Generated_Code/usb_framework.c ****  * @return None
 453:../Generated_Code/usb_framework.c ****  *
 454:../Generated_Code/usb_framework.c ****  ******************************************************************************
 455:../Generated_Code/usb_framework.c ****  * This function handles the data sent or received on the control endpoint
 456:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 457:../Generated_Code/usb_framework.c **** void USB_Control_Service (
 458:../Generated_Code/usb_framework.c ****     PTR_USB_DEV_EVENT_STRUCT event /* [IN] Pointer to USB Event Structure */
 459:../Generated_Code/usb_framework.c **** )
 460:../Generated_Code/usb_framework.c **** {
 419              		.loc 1 460 0
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 24
 422              		@ frame_needed = 1, uses_anonymous_args = 0
 423 0000 90B5     		push	{r4, r7, lr}
 424              		.cfi_def_cfa_offset 12
 425              		.cfi_offset 4, -12
 426              		.cfi_offset 7, -8
 427              		.cfi_offset 14, -4
 428 0002 89B0     		sub	sp, sp, #36
 429              		.cfi_def_cfa_offset 48
 430 0004 02AF     		add	r7, sp, #8
 431              		.cfi_def_cfa 7, 40
 432 0006 7860     		str	r0, [r7, #4]
 461:../Generated_Code/usb_framework.c ****     uint_8    device_state = 0;
 433              		.loc 1 461 0
 434 0008 0023     		movs	r3, #0
 435 000a BB75     		strb	r3, [r7, #22]
 462:../Generated_Code/usb_framework.c ****     uint_8     status = USBERR_INVALID_REQ_TYPE;
 436              		.loc 1 462 0
 437 000c CD23     		movs	r3, #205
 438 000e FB75     		strb	r3, [r7, #23]
 463:../Generated_Code/usb_framework.c ****     uint_8_ptr data = NULL;
 439              		.loc 1 463 0
 440 0010 0023     		movs	r3, #0
 441 0012 3B61     		str	r3, [r7, #16]
 464:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE size;
 465:../Generated_Code/usb_framework.c **** 
 466:../Generated_Code/usb_framework.c ****     /* get the device state  */
 467:../Generated_Code/usb_framework.c ****     (void)_usb_device_get_status(&(event->controller_ID), USB_STATUS_DEVICE_STATE,
 442              		.loc 1 467 0
 443 0014 7A68     		ldr	r2, [r7, #4]
 444 0016 07F11603 		add	r3, r7, #22
 445 001a 1046     		mov	r0, r2
 446 001c 0121     		movs	r1, #1
 447 001e 1A46     		mov	r2, r3
 448 0020 FFF7FEFF 		bl	_usb_device_get_status
 468:../Generated_Code/usb_framework.c ****         &device_state);
 469:../Generated_Code/usb_framework.c **** 
 470:../Generated_Code/usb_framework.c ****     if (event->setup == TRUE)
 449              		.loc 1 470 0
 450 0024 7B68     		ldr	r3, [r7, #4]
 451 0026 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 452 0028 012B     		cmp	r3, #1
 453 002a 40F08E80 		bne	.L26
 471:../Generated_Code/usb_framework.c ****     {
 472:../Generated_Code/usb_framework.c ****         /* get the setup packet */
 473:../Generated_Code/usb_framework.c ****         (void)memcpy(&g_setup_pkt, event->buffer_ptr, USB_SETUP_PKT_SIZE);
 454              		.loc 1 473 0
 455 002e 7B68     		ldr	r3, [r7, #4]
 456 0030 5B68     		ldr	r3, [r3, #4]	@ unaligned
 457 0032 6448     		ldr	r0, .L38
 458 0034 1946     		mov	r1, r3
 459 0036 0822     		movs	r2, #8
 460 0038 FFF7FEFF 		bl	memcpy
 474:../Generated_Code/usb_framework.c **** 
 475:../Generated_Code/usb_framework.c ****         /* take care of endianess  of the 16 bt fields correctly */
 476:../Generated_Code/usb_framework.c ****         g_setup_pkt.index = BYTE_SWAP16(g_setup_pkt.index);
 461              		.loc 1 476 0
 462 003c 614B     		ldr	r3, .L38
 463 003e 9A88     		ldrh	r2, [r3, #4]
 464 0040 604B     		ldr	r3, .L38
 465 0042 9A80     		strh	r2, [r3, #4]	@ movhi
 477:../Generated_Code/usb_framework.c ****         g_setup_pkt.value = BYTE_SWAP16(g_setup_pkt.value);
 466              		.loc 1 477 0
 467 0044 5F4B     		ldr	r3, .L38
 468 0046 5A88     		ldrh	r2, [r3, #2]
 469 0048 5E4B     		ldr	r3, .L38
 470 004a 5A80     		strh	r2, [r3, #2]	@ movhi
 478:../Generated_Code/usb_framework.c ****         g_setup_pkt.length = BYTE_SWAP16(g_setup_pkt.length);
 471              		.loc 1 478 0
 472 004c 5D4B     		ldr	r3, .L38
 473 004e DA88     		ldrh	r2, [r3, #6]
 474 0050 5C4B     		ldr	r3, .L38
 475 0052 DA80     		strh	r2, [r3, #6]	@ movhi
 479:../Generated_Code/usb_framework.c ****         
 480:../Generated_Code/usb_framework.c ****         /* if the request is standard request */
 481:../Generated_Code/usb_framework.c ****         if ((g_setup_pkt.request_type & USB_REQUEST_CLASS_MASK) ==
 476              		.loc 1 481 0
 477 0054 5B4B     		ldr	r3, .L38
 478 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 479 0058 03F06003 		and	r3, r3, #96
 480 005c 002B     		cmp	r3, #0
 481 005e 2AD1     		bne	.L27
 482:../Generated_Code/usb_framework.c ****             USB_REQUEST_CLASS_STRD)
 483:../Generated_Code/usb_framework.c ****         {
 484:../Generated_Code/usb_framework.c ****             /* if callback is not NULL */
 485:../Generated_Code/usb_framework.c ****             if (g_standard_request[g_setup_pkt.request] != NULL)
 482              		.loc 1 485 0
 483 0060 584B     		ldr	r3, .L38
 484 0062 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 485 0064 1A46     		mov	r2, r3
 486 0066 584B     		ldr	r3, .L38+4
 487 0068 53F82230 		ldr	r3, [r3, r2, lsl #2]
 488 006c 002B     		cmp	r3, #0
 489 006e 5ED0     		beq	.L29
 486:../Generated_Code/usb_framework.c ****             {
 487:../Generated_Code/usb_framework.c ****                 /* if the request is valid in this device state */
 488:../Generated_Code/usb_framework.c ****                 if((device_state < USB_STATE_POWERED) &&
 490              		.loc 1 488 0
 491 0070 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 492 0072 022B     		cmp	r3, #2
 493 0074 5BD8     		bhi	.L29
 489:../Generated_Code/usb_framework.c ****                     (g_validate_request[g_setup_pkt.request][device_state]
 494              		.loc 1 489 0 discriminator 1
 495 0076 534B     		ldr	r3, .L38
 496 0078 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 497 007a 1A46     		mov	r2, r3
 498 007c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 499 007e 1846     		mov	r0, r3
 500 0080 5249     		ldr	r1, .L38+8
 501 0082 1346     		mov	r3, r2
 502 0084 5B00     		lsls	r3, r3, #1
 503 0086 1344     		add	r3, r3, r2
 504 0088 0344     		add	r3, r3, r0
 505 008a 0B44     		add	r3, r3, r1
 506 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 488:../Generated_Code/usb_framework.c ****                 if((device_state < USB_STATE_POWERED) &&
 507              		.loc 1 488 0 discriminator 1
 508 008e 012B     		cmp	r3, #1
 509 0090 4DD1     		bne	.L29
 490:../Generated_Code/usb_framework.c ****                     ==TRUE))
 491:../Generated_Code/usb_framework.c ****                 {
 492:../Generated_Code/usb_framework.c ****                     /* Standard Request function pointers */
 493:../Generated_Code/usb_framework.c ****                     status = g_standard_request[g_setup_pkt.request]
 510              		.loc 1 493 0
 511 0092 4C4B     		ldr	r3, .L38
 512 0094 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 513 0096 1A46     		mov	r2, r3
 514 0098 4B4B     		ldr	r3, .L38+4
 515 009a 53F82240 		ldr	r4, [r3, r2, lsl #2]
 494:../Generated_Code/usb_framework.c ****                         (event->controller_ID, &g_setup_pkt, &data,
 516              		.loc 1 494 0
 517 009e 7B68     		ldr	r3, [r7, #4]
 518 00a0 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 493:../Generated_Code/usb_framework.c ****                     status = g_standard_request[g_setup_pkt.request]
 519              		.loc 1 493 0
 520 00a2 07F11002 		add	r2, r7, #16
 521 00a6 07F10E03 		add	r3, r7, #14
 522 00aa 0846     		mov	r0, r1
 523 00ac 4549     		ldr	r1, .L38
 524 00ae A047     		blx	r4
 525 00b0 0346     		mov	r3, r0
 526 00b2 FB75     		strb	r3, [r7, #23]
 527 00b4 3BE0     		b	.L29
 528              	.L27:
 495:../Generated_Code/usb_framework.c ****                         (USB_PACKET_SIZE *)&size);
 496:../Generated_Code/usb_framework.c ****                 }
 497:../Generated_Code/usb_framework.c ****             }
 498:../Generated_Code/usb_framework.c ****         }
 499:../Generated_Code/usb_framework.c ****         else /* for Class/Vendor requests */
 500:../Generated_Code/usb_framework.c ****         {
 501:../Generated_Code/usb_framework.c ****             /*get the length from the setup_request*/
 502:../Generated_Code/usb_framework.c ****             size = (USB_PACKET_SIZE)g_setup_pkt.length;
 529              		.loc 1 502 0
 530 00b6 434B     		ldr	r3, .L38
 531 00b8 DB88     		ldrh	r3, [r3, #6]
 532 00ba FB81     		strh	r3, [r7, #14]	@ movhi
 503:../Generated_Code/usb_framework.c ****             if (size <= USB_OUT_PKT_SIZE) {
 533              		.loc 1 503 0
 534 00bc FB89     		ldrh	r3, [r7, #14]
 535 00be 202B     		cmp	r3, #32
 536 00c0 28D8     		bhi	.L30
 504:../Generated_Code/usb_framework.c ****             if( (size != 0) &&
 537              		.loc 1 504 0
 538 00c2 FB89     		ldrh	r3, [r7, #14]
 539 00c4 002B     		cmp	r3, #0
 540 00c6 13D0     		beq	.L31
 505:../Generated_Code/usb_framework.c ****                 ((g_setup_pkt.request_type & USB_DATA_DIREC_MASK) ==
 541              		.loc 1 505 0 discriminator 1
 542 00c8 3E4B     		ldr	r3, .L38
 543 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 544 00cc DBB2     		uxtb	r3, r3
 504:../Generated_Code/usb_framework.c ****             if( (size != 0) &&
 545              		.loc 1 504 0 discriminator 1
 546 00ce 5BB2     		sxtb	r3, r3
 547 00d0 002B     		cmp	r3, #0
 548 00d2 0DDB     		blt	.L31
 506:../Generated_Code/usb_framework.c ****                 USB_DATA_TO_DEVICE) )
 507:../Generated_Code/usb_framework.c ****             {
 508:../Generated_Code/usb_framework.c ****                 (void)memcpy(ext_req_to_host, &g_setup_pkt, USB_SETUP_PKT_SIZE);
 549              		.loc 1 508 0
 550 00d4 3E4B     		ldr	r3, .L38+12
 551 00d6 3B4A     		ldr	r2, .L38
 552 00d8 92E80300 		ldmia	r2, {r0, r1}
 553 00dc 83E80300 		stmia	r3, {r0, r1}
 509:../Generated_Code/usb_framework.c **** 
 510:../Generated_Code/usb_framework.c ****                 /* expecting host to send data (OUT TRANSACTION)*/
 511:../Generated_Code/usb_framework.c ****                 (void)_usb_device_recv_data(&(event->controller_ID),
 554              		.loc 1 511 0
 555 00e0 7A68     		ldr	r2, [r7, #4]
 556 00e2 FB89     		ldrh	r3, [r7, #14]
 557 00e4 1046     		mov	r0, r2
 558 00e6 0021     		movs	r1, #0
 559 00e8 3A4A     		ldr	r2, .L38+16
 560 00ea FFF7FEFF 		bl	_usb_device_recv_data
 512:../Generated_Code/usb_framework.c ****                     CONTROL_ENDPOINT, ext_req_to_host+USB_SETUP_PKT_SIZE,
 513:../Generated_Code/usb_framework.c ****                     (USB_PACKET_SIZE)(size));
 514:../Generated_Code/usb_framework.c ****                 return;
 561              		.loc 1 514 0
 562 00ee 65E0     		b	.L25
 563              	.L31:
 515:../Generated_Code/usb_framework.c ****             }
 516:../Generated_Code/usb_framework.c ****             else if(g_other_req_callback != NULL)/*call class/vendor request*/
 564              		.loc 1 516 0
 565 00f0 394B     		ldr	r3, .L38+20
 566 00f2 1B68     		ldr	r3, [r3]
 567 00f4 002B     		cmp	r3, #0
 568 00f6 1AD0     		beq	.L29
 517:../Generated_Code/usb_framework.c ****             {
 518:../Generated_Code/usb_framework.c ****                 status = g_other_req_callback(event->controller_ID,
 569              		.loc 1 518 0
 570 00f8 374B     		ldr	r3, .L38+20
 571 00fa 1C68     		ldr	r4, [r3]
 572 00fc 7B68     		ldr	r3, [r7, #4]
 573 00fe 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 574 0100 07F11002 		add	r2, r7, #16
 575 0104 07F10E03 		add	r3, r7, #14
 576 0108 0846     		mov	r0, r1
 577 010a 2E49     		ldr	r1, .L38
 578 010c A047     		blx	r4
 579 010e 0346     		mov	r3, r0
 580 0110 FB75     		strb	r3, [r7, #23]
 581 0112 0CE0     		b	.L29
 582              	.L30:
 519:../Generated_Code/usb_framework.c ****                     &g_setup_pkt, &data, (USB_PACKET_SIZE*)&size);
 520:../Generated_Code/usb_framework.c ****             }
 521:../Generated_Code/usb_framework.c ****         }
 522:../Generated_Code/usb_framework.c ****             else
 523:../Generated_Code/usb_framework.c ****             {
 524:../Generated_Code/usb_framework.c ****                 /* incase of error Stall endpoint */
 525:../Generated_Code/usb_framework.c ****                 USB_Control_Service_Handler(event->controller_ID,
 583              		.loc 1 525 0
 584 0114 7B68     		ldr	r3, [r7, #4]
 585 0116 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 586 0118 07F11003 		add	r3, r7, #16
 587 011c 07F10E01 		add	r1, r7, #14
 588 0120 0091     		str	r1, [sp]
 589 0122 1046     		mov	r0, r2
 590 0124 CD21     		movs	r1, #205
 591 0126 274A     		ldr	r2, .L38
 592 0128 FFF7FEFF 		bl	USB_Control_Service_Handler
 526:../Generated_Code/usb_framework.c ****                 	USBERR_INVALID_REQ_TYPE, &g_setup_pkt, &data, (USB_PACKET_SIZE*)&size);           
 527:../Generated_Code/usb_framework.c ****             	return;
 593              		.loc 1 527 0
 594 012c 46E0     		b	.L25
 595              	.L29:
 528:../Generated_Code/usb_framework.c ****             }
 529:../Generated_Code/usb_framework.c ****         }
 530:../Generated_Code/usb_framework.c **** 
 531:../Generated_Code/usb_framework.c ****         USB_Control_Service_Handler(event->controller_ID,
 596              		.loc 1 531 0 discriminator 1
 597 012e 7B68     		ldr	r3, [r7, #4]
 598 0130 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 599 0132 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 600 0134 07F11003 		add	r3, r7, #16
 601 0138 07F10E00 		add	r0, r7, #14
 602 013c 0090     		str	r0, [sp]
 603 013e 0846     		mov	r0, r1
 604 0140 1146     		mov	r1, r2
 605 0142 204A     		ldr	r2, .L38
 606 0144 FFF7FEFF 		bl	USB_Control_Service_Handler
 607 0148 37E0     		b	.L34
 608              	.L26:
 532:../Generated_Code/usb_framework.c ****             status, &g_setup_pkt, &data, (USB_PACKET_SIZE*)&size);
 533:../Generated_Code/usb_framework.c ****     }
 534:../Generated_Code/usb_framework.c ****     /* if its not a setup request */
 535:../Generated_Code/usb_framework.c ****     else if(device_state == USB_STATE_PENDING_ADDRESS)
 609              		.loc 1 535 0
 610 014a BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 611 014c 042B     		cmp	r3, #4
 612 014e 05D1     		bne	.L35
 536:../Generated_Code/usb_framework.c ****     {
 537:../Generated_Code/usb_framework.c ****         /* Device state is PENDING_ADDRESS */
 538:../Generated_Code/usb_framework.c ****         /* Assign the new adddress to the Device */
 539:../Generated_Code/usb_framework.c ****         (void)USB_Strd_Req_Assign_Address(event->controller_ID);
 613              		.loc 1 539 0
 614 0150 7B68     		ldr	r3, [r7, #4]
 615 0152 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 616 0154 1846     		mov	r0, r3
 617 0156 FFF7FEFF 		bl	USB_Strd_Req_Assign_Address
 540:../Generated_Code/usb_framework.c ****         return;
 618              		.loc 1 540 0
 619 015a 2FE0     		b	.L25
 620              	.L35:
 541:../Generated_Code/usb_framework.c ****     }
 542:../Generated_Code/usb_framework.c ****     else if( ((g_setup_pkt.request_type &
 621              		.loc 1 542 0
 622 015c 194B     		ldr	r3, .L38
 623 015e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 543:../Generated_Code/usb_framework.c ****             USB_DATA_DIREC_MASK) == USB_DATA_TO_DEVICE) &&
 624              		.loc 1 543 0
 625 0160 DBB2     		uxtb	r3, r3
 542:../Generated_Code/usb_framework.c ****     else if( ((g_setup_pkt.request_type &
 626              		.loc 1 542 0
 627 0162 5BB2     		sxtb	r3, r3
 628 0164 002B     		cmp	r3, #0
 629 0166 28DB     		blt	.L34
 544:../Generated_Code/usb_framework.c ****             (event->direction == USB_RECV) )
 630              		.loc 1 544 0
 631 0168 7B68     		ldr	r3, [r7, #4]
 632 016a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 543:../Generated_Code/usb_framework.c ****             USB_DATA_DIREC_MASK) == USB_DATA_TO_DEVICE) &&
 633              		.loc 1 543 0
 634 016c 002B     		cmp	r3, #0
 635 016e 24D1     		bne	.L34
 545:../Generated_Code/usb_framework.c ****     {
 546:../Generated_Code/usb_framework.c ****         /* execution enters Control Service because of
 547:../Generated_Code/usb_framework.c ****            OUT transaction on CONTROL_ENDPOINT*/
 548:../Generated_Code/usb_framework.c ****         if(g_other_req_callback != NULL)
 636              		.loc 1 548 0
 637 0170 194B     		ldr	r3, .L38+20
 638 0172 1B68     		ldr	r3, [r3]
 639 0174 002B     		cmp	r3, #0
 640 0176 13D0     		beq	.L36
 549:../Generated_Code/usb_framework.c ****         {   /* class or vendor request */
 550:../Generated_Code/usb_framework.c ****             size = (USB_PACKET_SIZE)(event->len + USB_SETUP_PKT_SIZE);
 641              		.loc 1 550 0
 642 0178 7B68     		ldr	r3, [r7, #4]
 643 017a B3F80930 		ldrh	r3, [r3, #9]	@ unaligned
 644 017e 9BB2     		uxth	r3, r3
 645 0180 0833     		adds	r3, r3, #8
 646 0182 9BB2     		uxth	r3, r3
 647 0184 FB81     		strh	r3, [r7, #14]	@ movhi
 551:../Generated_Code/usb_framework.c ****             status = g_other_req_callback(event->controller_ID,
 648              		.loc 1 551 0
 649 0186 144B     		ldr	r3, .L38+20
 650 0188 1C68     		ldr	r4, [r3]
 651 018a 7B68     		ldr	r3, [r7, #4]
 652 018c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 653 018e 07F11002 		add	r2, r7, #16
 654 0192 07F10E03 		add	r3, r7, #14
 655 0196 0846     		mov	r0, r1
 656 0198 0D49     		ldr	r1, .L38+12
 657 019a A047     		blx	r4
 658 019c 0346     		mov	r3, r0
 659 019e FB75     		strb	r3, [r7, #23]
 660              	.L36:
 552:../Generated_Code/usb_framework.c ****                 (USB_SETUP_STRUCT*)(ext_req_to_host), &data,
 553:../Generated_Code/usb_framework.c ****                 (USB_PACKET_SIZE*)&size);
 554:../Generated_Code/usb_framework.c ****         }
 555:../Generated_Code/usb_framework.c **** 
 556:../Generated_Code/usb_framework.c ****         USB_Control_Service_Handler(event->controller_ID,
 661              		.loc 1 556 0
 662 01a0 7B68     		ldr	r3, [r7, #4]
 663 01a2 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 664 01a4 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 665 01a6 07F11003 		add	r3, r7, #16
 666 01aa 07F10E00 		add	r0, r7, #14
 667 01ae 0090     		str	r0, [sp]
 668 01b0 0846     		mov	r0, r1
 669 01b2 1146     		mov	r1, r2
 670 01b4 034A     		ldr	r2, .L38
 671 01b6 FFF7FEFF 		bl	USB_Control_Service_Handler
 672              	.L34:
 557:../Generated_Code/usb_framework.c ****             status, &g_setup_pkt, &data,
 558:../Generated_Code/usb_framework.c ****             (USB_PACKET_SIZE*)&size);
 559:../Generated_Code/usb_framework.c ****     }
 560:../Generated_Code/usb_framework.c ****     return;
 673              		.loc 1 560 0
 674 01ba 00BF     		nop
 675              	.L25:
 561:../Generated_Code/usb_framework.c **** }
 676              		.loc 1 561 0
 677 01bc 1C37     		adds	r7, r7, #28
 678 01be BD46     		mov	sp, r7
 679              		@ sp needed
 680 01c0 90BD     		pop	{r4, r7, pc}
 681              	.L39:
 682 01c2 00BF     		.align	2
 683              	.L38:
 684 01c4 00000000 		.word	g_setup_pkt
 685 01c8 00000000 		.word	g_standard_request
 686 01cc 00000000 		.word	g_validate_request
 687 01d0 00000000 		.word	ext_req_to_host
 688 01d4 08000000 		.word	ext_req_to_host+8
 689 01d8 00000000 		.word	g_other_req_callback
 690              		.cfi_endproc
 691              	.LFE7:
 693              		.section	.text.USB_Control_Service_Handler,"ax",%progbits
 694              		.align	2
 695              		.thumb
 696              		.thumb_func
 698              	USB_Control_Service_Handler:
 699              	.LFB8:
 562:../Generated_Code/usb_framework.c **** 
 563:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 564:../Generated_Code/usb_framework.c ****  *
 565:../Generated_Code/usb_framework.c ****  * @name  USB_Control_Service_Handler
 566:../Generated_Code/usb_framework.c ****  *
 567:../Generated_Code/usb_framework.c ****  * @brief The function is used to send a response to the Host based.
 568:../Generated_Code/usb_framework.c ****  *
 569:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 570:../Generated_Code/usb_framework.c ****  * @param status        : Status of request
 571:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
 572:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
 573:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
 574:../Generated_Code/usb_framework.c ****  *
 575:../Generated_Code/usb_framework.c ****  * @return None
 576:../Generated_Code/usb_framework.c ****  *
 577:../Generated_Code/usb_framework.c ****  ******************************************************************************
 578:../Generated_Code/usb_framework.c ****  * This function sends a response to the data received on the control endpoint.
 579:../Generated_Code/usb_framework.c ****  * the request is decoded in the control service
 580:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 581:../Generated_Code/usb_framework.c **** static void USB_Control_Service_Handler (
 582:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
 583:../Generated_Code/usb_framework.c ****     uint_8 status,                      /* [IN] Device Status */
 584:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
 585:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
 586:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
 587:../Generated_Code/usb_framework.c **** )
 588:../Generated_Code/usb_framework.c **** {
 700              		.loc 1 588 0
 701              		.cfi_startproc
 702              		@ args = 4, pretend = 0, frame = 16
 703              		@ frame_needed = 1, uses_anonymous_args = 0
 704 0000 80B5     		push	{r7, lr}
 705              		.cfi_def_cfa_offset 8
 706              		.cfi_offset 7, -8
 707              		.cfi_offset 14, -4
 708 0002 84B0     		sub	sp, sp, #16
 709              		.cfi_def_cfa_offset 24
 710 0004 00AF     		add	r7, sp, #0
 711              		.cfi_def_cfa_register 7
 712 0006 BA60     		str	r2, [r7, #8]
 713 0008 7B60     		str	r3, [r7, #4]
 714 000a 0346     		mov	r3, r0
 715 000c FB73     		strb	r3, [r7, #15]
 716 000e 0B46     		mov	r3, r1
 717 0010 BB73     		strb	r3, [r7, #14]
 589:../Generated_Code/usb_framework.c ****     if(status == USBERR_INVALID_REQ_TYPE)
 718              		.loc 1 589 0
 719 0012 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 720 0014 CD2B     		cmp	r3, #205
 721 0016 07D1     		bne	.L41
 590:../Generated_Code/usb_framework.c ****     {
 591:../Generated_Code/usb_framework.c ****         /* incase of error Stall endpoint */
 592:../Generated_Code/usb_framework.c ****         (void)_usb_device_set_status(&controller_ID,
 722              		.loc 1 592 0
 723 0018 07F10F03 		add	r3, r7, #15
 724 001c 1846     		mov	r0, r3
 725 001e 9021     		movs	r1, #144
 726 0020 0122     		movs	r2, #1
 727 0022 FFF7FEFF 		bl	_usb_device_set_status
 728 0026 20E0     		b	.L42
 729              	.L41:
 593:../Generated_Code/usb_framework.c ****             (uint_8)(USB_STATUS_ENDPOINT | CONTROL_ENDPOINT |
 594:../Generated_Code/usb_framework.c ****             (USB_SEND << USB_COMPONENT_DIRECTION_SHIFT)),
 595:../Generated_Code/usb_framework.c ****             USB_STATUS_STALLED);
 596:../Generated_Code/usb_framework.c ****     }
 597:../Generated_Code/usb_framework.c ****     else /* Need to send Data to the USB Host */
 598:../Generated_Code/usb_framework.c ****     {
 599:../Generated_Code/usb_framework.c ****         /* send the data prepared by the handlers.*/
 600:../Generated_Code/usb_framework.c ****         if(*size > setup_packet->length)
 730              		.loc 1 600 0
 731 0028 BB69     		ldr	r3, [r7, #24]
 732 002a 1A88     		ldrh	r2, [r3]
 733 002c BB68     		ldr	r3, [r7, #8]
 734 002e DB88     		ldrh	r3, [r3, #6]
 735 0030 9A42     		cmp	r2, r3
 736 0032 03D9     		bls	.L43
 601:../Generated_Code/usb_framework.c ****         {
 602:../Generated_Code/usb_framework.c ****             *size = (USB_PACKET_SIZE)setup_packet->length;
 737              		.loc 1 602 0
 738 0034 BB68     		ldr	r3, [r7, #8]
 739 0036 DA88     		ldrh	r2, [r3, #6]
 740 0038 BB69     		ldr	r3, [r7, #24]
 741 003a 1A80     		strh	r2, [r3]	@ movhi
 742              	.L43:
 603:../Generated_Code/usb_framework.c ****         }
 604:../Generated_Code/usb_framework.c **** 
 605:../Generated_Code/usb_framework.c ****          /* send the data to the host */
 606:../Generated_Code/usb_framework.c ****         (void)USB_Class_Send_Data(controller_ID,
 743              		.loc 1 606 0
 744 003c F97B     		ldrb	r1, [r7, #15]	@ zero_extendqisi2
 745 003e 7B68     		ldr	r3, [r7, #4]
 746 0040 1A68     		ldr	r2, [r3]
 747 0042 BB69     		ldr	r3, [r7, #24]
 748 0044 1B88     		ldrh	r3, [r3]
 749 0046 0846     		mov	r0, r1
 750 0048 0021     		movs	r1, #0
 751 004a FFF7FEFF 		bl	USB_Class_Send_Data
 607:../Generated_Code/usb_framework.c ****             CONTROL_ENDPOINT, *data, *size);
 608:../Generated_Code/usb_framework.c ****         if((setup_packet->request_type & USB_DATA_DIREC_MASK) ==
 752              		.loc 1 608 0
 753 004e BB68     		ldr	r3, [r7, #8]
 754 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 755 0052 DBB2     		uxtb	r3, r3
 756 0054 5BB2     		sxtb	r3, r3
 757 0056 002B     		cmp	r3, #0
 758 0058 07DA     		bge	.L42
 609:../Generated_Code/usb_framework.c ****             USB_DATA_TO_HOST)
 610:../Generated_Code/usb_framework.c ****         {   /* Request was to Get Data from device */
 611:../Generated_Code/usb_framework.c ****             /* setup rcv to get status from host */
 612:../Generated_Code/usb_framework.c ****             (void)_usb_device_recv_data(&controller_ID,
 759              		.loc 1 612 0
 760 005a 07F10F03 		add	r3, r7, #15
 761 005e 1846     		mov	r0, r3
 762 0060 0021     		movs	r1, #0
 763 0062 0022     		movs	r2, #0
 764 0064 0023     		movs	r3, #0
 765 0066 FFF7FEFF 		bl	_usb_device_recv_data
 766              	.L42:
 613:../Generated_Code/usb_framework.c ****                 CONTROL_ENDPOINT,NULL,0);
 614:../Generated_Code/usb_framework.c ****         }
 615:../Generated_Code/usb_framework.c **** 
 616:../Generated_Code/usb_framework.c ****     }
 617:../Generated_Code/usb_framework.c ****     return;
 767              		.loc 1 617 0
 768 006a 00BF     		nop
 618:../Generated_Code/usb_framework.c **** }
 769              		.loc 1 618 0
 770 006c 1037     		adds	r7, r7, #16
 771 006e BD46     		mov	sp, r7
 772              		@ sp needed
 773 0070 80BD     		pop	{r7, pc}
 774              		.cfi_endproc
 775              	.LFE8:
 777 0072 00BF     		.section	.text.USB_Strd_Req_Get_Status,"ax",%progbits
 778              		.align	2
 779              		.thumb
 780              		.thumb_func
 782              	USB_Strd_Req_Get_Status:
 783              	.LFB9:
 619:../Generated_Code/usb_framework.c **** /*************************************************************************//*!
 620:../Generated_Code/usb_framework.c ****  *
 621:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Get_Status
 622:../Generated_Code/usb_framework.c ****  *
 623:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Get Status request
 624:../Generated_Code/usb_framework.c ****  *
 625:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 626:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
 627:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
 628:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
 629:../Generated_Code/usb_framework.c ****  *
 630:../Generated_Code/usb_framework.c ****  * @return status:
 631:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
 632:../Generated_Code/usb_framework.c ****  *               Others : When Error
 633:../Generated_Code/usb_framework.c ****  *
 634:../Generated_Code/usb_framework.c ****  ******************************************************************************
 635:../Generated_Code/usb_framework.c ****  * This is a ch9 request and is called by the host to know the status of the
 636:../Generated_Code/usb_framework.c ****  * device, the interface and the endpoint
 637:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 638:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Status (
 639:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
 640:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
 641:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
 642:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
 643:../Generated_Code/usb_framework.c **** )
 644:../Generated_Code/usb_framework.c **** {
 784              		.loc 1 644 0
 785              		.cfi_startproc
 786              		@ args = 0, pretend = 0, frame = 32
 787              		@ frame_needed = 1, uses_anonymous_args = 0
 788 0000 80B5     		push	{r7, lr}
 789              		.cfi_def_cfa_offset 8
 790              		.cfi_offset 7, -8
 791              		.cfi_offset 14, -4
 792 0002 8AB0     		sub	sp, sp, #40
 793              		.cfi_def_cfa_offset 48
 794 0004 02AF     		add	r7, sp, #8
 795              		.cfi_def_cfa 7, 40
 796 0006 B960     		str	r1, [r7, #8]
 797 0008 7A60     		str	r2, [r7, #4]
 798 000a 3B60     		str	r3, [r7]
 799 000c 0346     		mov	r3, r0
 800 000e FB73     		strb	r3, [r7, #15]
 645:../Generated_Code/usb_framework.c **** 	uint_8_ptr pu8ConfigDesc = NULL;
 801              		.loc 1 645 0
 802 0010 0023     		movs	r3, #0
 803 0012 BB61     		str	r3, [r7, #24]
 646:../Generated_Code/usb_framework.c **** 	uint_16 u16DescSize;
 647:../Generated_Code/usb_framework.c ****     uint_8 interface, endpoint = 0;
 804              		.loc 1 647 0
 805 0014 0023     		movs	r3, #0
 806 0016 BB77     		strb	r3, [r7, #30]
 648:../Generated_Code/usb_framework.c ****     uint_8 status;
 649:../Generated_Code/usb_framework.c ****     uint_8 device_state = USB_STATE_POWERED;
 807              		.loc 1 649 0
 808 0018 0323     		movs	r3, #3
 809 001a 7B75     		strb	r3, [r7, #21]
 650:../Generated_Code/usb_framework.c **** 
 651:../Generated_Code/usb_framework.c **** 
 652:../Generated_Code/usb_framework.c ****     status = _usb_device_get_status(&controller_ID, USB_STATUS_DEVICE_STATE, &device_state);
 810              		.loc 1 652 0
 811 001c 07F10F02 		add	r2, r7, #15
 812 0020 07F11503 		add	r3, r7, #21
 813 0024 1046     		mov	r0, r2
 814 0026 0121     		movs	r1, #1
 815 0028 1A46     		mov	r2, r3
 816 002a FFF7FEFF 		bl	_usb_device_get_status
 817 002e 0346     		mov	r3, r0
 818 0030 FB77     		strb	r3, [r7, #31]
 653:../Generated_Code/usb_framework.c ****   
 654:../Generated_Code/usb_framework.c ****     if((setup_packet->request_type & USB_REQUEST_SRC_MASK) == USB_REQUEST_SRC_DEVICE)
 819              		.loc 1 654 0
 820 0032 BB68     		ldr	r3, [r7, #8]
 821 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 822 0036 03F00303 		and	r3, r3, #3
 823 003a 002B     		cmp	r3, #0
 824 003c 42D1     		bne	.L46
 825              	.LBB2:
 655:../Generated_Code/usb_framework.c ****     {
 656:../Generated_Code/usb_framework.c ****         #ifdef OTG_BUILD
 657:../Generated_Code/usb_framework.c ****         if(setup_packet->index == USB_WINDEX_OTG_STATUS_SEL)
 658:../Generated_Code/usb_framework.c ****         {
 659:../Generated_Code/usb_framework.c **** 			uint_8 temp;
 660:../Generated_Code/usb_framework.c **** 			 /* Request for Device */
 661:../Generated_Code/usb_framework.c **** 			 status = _usb_device_get_status(&controller_ID, USB_STATUS_OTG, &temp);
 662:../Generated_Code/usb_framework.c **** 			 g_std_framework_data = (uint_16)temp;
 663:../Generated_Code/usb_framework.c **** 			 g_std_framework_data &= GET_STATUS_OTG_MASK;
 664:../Generated_Code/usb_framework.c **** 			 g_std_framework_data = BYTE_SWAP16(g_std_framework_data);
 665:../Generated_Code/usb_framework.c **** 			 *size = OTG_STATUS_SIZE;
 666:../Generated_Code/usb_framework.c ****         }
 667:../Generated_Code/usb_framework.c ****         else
 668:../Generated_Code/usb_framework.c ****         #endif
 669:../Generated_Code/usb_framework.c ****         {
 670:../Generated_Code/usb_framework.c ****          uint_8 device_state1;
 671:../Generated_Code/usb_framework.c ****         	
 672:../Generated_Code/usb_framework.c ****          /* Request for Device */
 673:../Generated_Code/usb_framework.c ****          status = _usb_device_get_status(&controller_ID, USB_STATUS_DEVICE, &device_state1);
 826              		.loc 1 673 0
 827 003e 07F10F02 		add	r2, r7, #15
 828 0042 07F11403 		add	r3, r7, #20
 829 0046 1046     		mov	r0, r2
 830 0048 0621     		movs	r1, #6
 831 004a 1A46     		mov	r2, r3
 832 004c FFF7FEFF 		bl	_usb_device_get_status
 833 0050 0346     		mov	r3, r0
 834 0052 FB77     		strb	r3, [r7, #31]
 674:../Generated_Code/usb_framework.c ****          g_std_framework_data = (uint_16)device_state1;
 835              		.loc 1 674 0
 836 0054 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 837 0056 1A46     		mov	r2, r3
 838 0058 444B     		ldr	r3, .L55
 839 005a 1A80     		strh	r2, [r3]	@ movhi
 675:../Generated_Code/usb_framework.c ****          g_std_framework_data &= GET_STATUS_DEVICE_MASK;
 840              		.loc 1 675 0
 841 005c 434B     		ldr	r3, .L55
 842 005e 1B88     		ldrh	r3, [r3]
 843 0060 03F00303 		and	r3, r3, #3
 844 0064 9AB2     		uxth	r2, r3
 845 0066 414B     		ldr	r3, .L55
 846 0068 1A80     		strh	r2, [r3]	@ movhi
 676:../Generated_Code/usb_framework.c ****          g_std_framework_data = BYTE_SWAP16(g_std_framework_data);
 847              		.loc 1 676 0
 848 006a 404B     		ldr	r3, .L55
 849 006c 1A88     		ldrh	r2, [r3]
 850 006e 3F4B     		ldr	r3, .L55
 851 0070 1A80     		strh	r2, [r3]	@ movhi
 677:../Generated_Code/usb_framework.c **** 
 678:../Generated_Code/usb_framework.c ****          /* Set Self Powered bit in device state according to configuration */		
 679:../Generated_Code/usb_framework.c ****          status = USB_Desc_Get_Descriptor(controller_ID, USB_CONFIG_DESCRIPTOR,
 852              		.loc 1 679 0
 853 0072 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 854 0074 07F11802 		add	r2, r7, #24
 855 0078 0092     		str	r2, [sp]
 856 007a 07F11602 		add	r2, r7, #22
 857 007e 0192     		str	r2, [sp, #4]
 858 0080 1846     		mov	r0, r3
 859 0082 0221     		movs	r1, #2
 860 0084 0022     		movs	r2, #0
 861 0086 0023     		movs	r3, #0
 862 0088 FFF7FEFF 		bl	USB_Desc_Get_Descriptor
 863 008c 0346     		mov	r3, r0
 864 008e FB77     		strb	r3, [r7, #31]
 680:../Generated_Code/usb_framework.c ****         		                          0, 0, &pu8ConfigDesc, (USB_PACKET_SIZE *)&u16DescSize);		
 681:../Generated_Code/usb_framework.c **** 		
 682:../Generated_Code/usb_framework.c **** 		 if((pu8ConfigDesc[7] & SELF_POWERED) != 0)
 865              		.loc 1 682 0
 866 0090 BB69     		ldr	r3, [r7, #24]
 867 0092 0733     		adds	r3, r3, #7
 868 0094 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 869 0096 03F04003 		and	r3, r3, #64
 870 009a 002B     		cmp	r3, #0
 871 009c 07D0     		beq	.L47
 683:../Generated_Code/usb_framework.c **** 		 {
 684:../Generated_Code/usb_framework.c **** 			g_std_framework_data |= BYTE_SWAP16(0x0001);
 872              		.loc 1 684 0
 873 009e 334B     		ldr	r3, .L55
 874 00a0 1B88     		ldrh	r3, [r3]
 875 00a2 43F00103 		orr	r3, r3, #1
 876 00a6 9AB2     		uxth	r2, r3
 877 00a8 304B     		ldr	r3, .L55
 878 00aa 1A80     		strh	r2, [r3]	@ movhi
 879 00ac 06E0     		b	.L48
 880              	.L47:
 685:../Generated_Code/usb_framework.c **** 		 }
 686:../Generated_Code/usb_framework.c **** 		 else
 687:../Generated_Code/usb_framework.c **** 		 {
 688:../Generated_Code/usb_framework.c **** 			g_std_framework_data &= BYTE_SWAP16(~0x0001);
 881              		.loc 1 688 0
 882 00ae 2F4B     		ldr	r3, .L55
 883 00b0 1B88     		ldrh	r3, [r3]
 884 00b2 23F00103 		bic	r3, r3, #1
 885 00b6 9AB2     		uxth	r2, r3
 886 00b8 2C4B     		ldr	r3, .L55
 887 00ba 1A80     		strh	r2, [r3]	@ movhi
 888              	.L48:
 689:../Generated_Code/usb_framework.c **** 		 }
 690:../Generated_Code/usb_framework.c ****          *size = DEVICE_STATUS_SIZE;
 889              		.loc 1 690 0 discriminator 1
 890 00bc 3B68     		ldr	r3, [r7]
 891 00be 0222     		movs	r2, #2
 892 00c0 1A80     		strh	r2, [r3]	@ movhi
 893              	.LBE2:
 894 00c2 4BE0     		b	.L49
 895              	.L46:
 691:../Generated_Code/usb_framework.c ****         }
 692:../Generated_Code/usb_framework.c ****     }
 693:../Generated_Code/usb_framework.c ****     else if((setup_packet->request_type & USB_REQUEST_SRC_MASK) == USB_REQUEST_SRC_INTERFACE)
 896              		.loc 1 693 0
 897 00c4 BB68     		ldr	r3, [r7, #8]
 898 00c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 899 00c8 03F00303 		and	r3, r3, #3
 900 00cc 012B     		cmp	r3, #1
 901 00ce 12D1     		bne	.L50
 694:../Generated_Code/usb_framework.c ****     {
 695:../Generated_Code/usb_framework.c ****         /* Request for Interface */
 696:../Generated_Code/usb_framework.c ****     	interface = (uint_8) setup_packet->index;
 902              		.loc 1 696 0
 903 00d0 BB68     		ldr	r3, [r7, #8]
 904 00d2 9B88     		ldrh	r3, [r3, #4]
 905 00d4 7B77     		strb	r3, [r7, #29]
 697:../Generated_Code/usb_framework.c ****         if((device_state == USB_STATE_ADDRESS) && (interface > 0))
 906              		.loc 1 697 0
 907 00d6 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 908 00d8 012B     		cmp	r3, #1
 909 00da 05D1     		bne	.L51
 910              		.loc 1 697 0 is_stmt 0 discriminator 1
 911 00dc 7B7F     		ldrb	r3, [r7, #29]	@ zero_extendqisi2
 912 00de 002B     		cmp	r3, #0
 913 00e0 02D0     		beq	.L51
 698:../Generated_Code/usb_framework.c ****         {
 699:../Generated_Code/usb_framework.c ****         	 status = USBERR_INVALID_REQ_TYPE;
 914              		.loc 1 699 0 is_stmt 1
 915 00e2 CD23     		movs	r3, #205
 916 00e4 FB77     		strb	r3, [r7, #31]
 917 00e6 39E0     		b	.L49
 918              	.L51:
 700:../Generated_Code/usb_framework.c ****         }
 701:../Generated_Code/usb_framework.c ****         else
 702:../Generated_Code/usb_framework.c ****         {
 703:../Generated_Code/usb_framework.c ****         	/* Interface requests always return 0 */
 704:../Generated_Code/usb_framework.c ****         	g_std_framework_data = 0x0000;
 919              		.loc 1 704 0
 920 00e8 204B     		ldr	r3, .L55
 921 00ea 0022     		movs	r2, #0
 922 00ec 1A80     		strh	r2, [r3]	@ movhi
 705:../Generated_Code/usb_framework.c **** 			*size = INTERFACE_STATUS_SIZE;
 923              		.loc 1 705 0
 924 00ee 3B68     		ldr	r3, [r7]
 925 00f0 0222     		movs	r2, #2
 926 00f2 1A80     		strh	r2, [r3]	@ movhi
 927 00f4 32E0     		b	.L49
 928              	.L50:
 706:../Generated_Code/usb_framework.c ****         }
 707:../Generated_Code/usb_framework.c ****     }
 708:../Generated_Code/usb_framework.c ****     else if((setup_packet->request_type & USB_REQUEST_SRC_MASK) == USB_REQUEST_SRC_ENDPOINT)
 929              		.loc 1 708 0
 930 00f6 BB68     		ldr	r3, [r7, #8]
 931 00f8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 932 00fa 03F00303 		and	r3, r3, #3
 933 00fe 022B     		cmp	r3, #2
 934 0100 2CD1     		bne	.L49
 709:../Generated_Code/usb_framework.c ****     {
 710:../Generated_Code/usb_framework.c ****         /* Request for Endpoint */
 711:../Generated_Code/usb_framework.c ****     	if((device_state == USB_STATE_ADDRESS) && (endpoint > 0))
 935              		.loc 1 711 0
 936 0102 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 937 0104 012B     		cmp	r3, #1
 938 0106 05D1     		bne	.L53
 939              		.loc 1 711 0 is_stmt 0 discriminator 1
 940 0108 BB7F     		ldrb	r3, [r7, #30]	@ zero_extendqisi2
 941 010a 002B     		cmp	r3, #0
 942 010c 02D0     		beq	.L53
 712:../Generated_Code/usb_framework.c **** 		{
 713:../Generated_Code/usb_framework.c **** 			 status = USBERR_INVALID_REQ_TYPE;
 943              		.loc 1 713 0 is_stmt 1
 944 010e CD23     		movs	r3, #205
 945 0110 FB77     		strb	r3, [r7, #31]
 946 0112 23E0     		b	.L49
 947              	.L53:
 948              	.LBB3:
 714:../Generated_Code/usb_framework.c **** 		}
 715:../Generated_Code/usb_framework.c ****     	else
 716:../Generated_Code/usb_framework.c ****     	{
 717:../Generated_Code/usb_framework.c **** 			uint_8 device_state2;
 718:../Generated_Code/usb_framework.c **** 			endpoint  = (uint_8)(((uint_8) setup_packet->index) |
 949              		.loc 1 718 0
 950 0114 BB68     		ldr	r3, [r7, #8]
 951 0116 9B88     		ldrh	r3, [r3, #4]
 952 0118 DBB2     		uxtb	r3, r3
 953 011a 43F01003 		orr	r3, r3, #16
 954 011e BB77     		strb	r3, [r7, #30]
 719:../Generated_Code/usb_framework.c **** 				USB_STATUS_ENDPOINT);
 720:../Generated_Code/usb_framework.c **** 			status =  _usb_device_get_status(&controller_ID,
 955              		.loc 1 720 0
 956 0120 07F10F01 		add	r1, r7, #15
 957 0124 BA7F     		ldrb	r2, [r7, #30]	@ zero_extendqisi2
 958 0126 07F11303 		add	r3, r7, #19
 959 012a 0846     		mov	r0, r1
 960 012c 1146     		mov	r1, r2
 961 012e 1A46     		mov	r2, r3
 962 0130 FFF7FEFF 		bl	_usb_device_get_status
 963 0134 0346     		mov	r3, r0
 964 0136 FB77     		strb	r3, [r7, #31]
 721:../Generated_Code/usb_framework.c **** 				endpoint,
 722:../Generated_Code/usb_framework.c **** 				&device_state2);
 723:../Generated_Code/usb_framework.c **** 			g_std_framework_data = (uint_16)device_state2;
 965              		.loc 1 723 0
 966 0138 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 967 013a 1A46     		mov	r2, r3
 968 013c 0B4B     		ldr	r3, .L55
 969 013e 1A80     		strh	r2, [r3]	@ movhi
 724:../Generated_Code/usb_framework.c **** 			/* All other fields except HALT must be zero */
 725:../Generated_Code/usb_framework.c **** 			g_std_framework_data &= 0x0001;  /* LSB is for the HALT feature */
 970              		.loc 1 725 0
 971 0140 0A4B     		ldr	r3, .L55
 972 0142 1B88     		ldrh	r3, [r3]
 973 0144 03F00103 		and	r3, r3, #1
 974 0148 9AB2     		uxth	r2, r3
 975 014a 084B     		ldr	r3, .L55
 976 014c 1A80     		strh	r2, [r3]	@ movhi
 726:../Generated_Code/usb_framework.c **** 			g_std_framework_data = BYTE_SWAP16(g_std_framework_data);
 977              		.loc 1 726 0
 978 014e 074B     		ldr	r3, .L55
 979 0150 1A88     		ldrh	r2, [r3]
 980 0152 064B     		ldr	r3, .L55
 981 0154 1A80     		strh	r2, [r3]	@ movhi
 727:../Generated_Code/usb_framework.c **** 			*size = ENDP_STATUS_SIZE;
 982              		.loc 1 727 0
 983 0156 3B68     		ldr	r3, [r7]
 984 0158 0222     		movs	r2, #2
 985 015a 1A80     		strh	r2, [r3]	@ movhi
 986              	.L49:
 987              	.LBE3:
 728:../Generated_Code/usb_framework.c ****     	}
 729:../Generated_Code/usb_framework.c ****     }
 730:../Generated_Code/usb_framework.c **** 
 731:../Generated_Code/usb_framework.c ****     *data = (uint_8_ptr)&g_std_framework_data;
 988              		.loc 1 731 0
 989 015c 7B68     		ldr	r3, [r7, #4]
 990 015e 034A     		ldr	r2, .L55
 991 0160 1A60     		str	r2, [r3]
 732:../Generated_Code/usb_framework.c ****     return status;
 992              		.loc 1 732 0
 993 0162 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 733:../Generated_Code/usb_framework.c **** }
 994              		.loc 1 733 0
 995 0164 1846     		mov	r0, r3
 996 0166 2037     		adds	r7, r7, #32
 997 0168 BD46     		mov	sp, r7
 998              		@ sp needed
 999 016a 80BD     		pop	{r7, pc}
 1000              	.L56:
 1001              		.align	2
 1002              	.L55:
 1003 016c 00000000 		.word	g_std_framework_data
 1004              		.cfi_endproc
 1005              	.LFE9:
 1007              		.section	.text.USB_Strd_Req_Feature,"ax",%progbits
 1008              		.align	2
 1009              		.thumb
 1010              		.thumb_func
 1012              	USB_Strd_Req_Feature:
 1013              	.LFB10:
 734:../Generated_Code/usb_framework.c **** 
 735:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 736:../Generated_Code/usb_framework.c ****  *
 737:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Feature
 738:../Generated_Code/usb_framework.c ****  *
 739:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Clear or Set Feature request
 740:../Generated_Code/usb_framework.c ****  *
 741:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 742:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
 743:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
 744:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
 745:../Generated_Code/usb_framework.c ****  *
 746:../Generated_Code/usb_framework.c ****  * @return status:
 747:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
 748:../Generated_Code/usb_framework.c ****  *               Others : When Error
 749:../Generated_Code/usb_framework.c ****  *
 750:../Generated_Code/usb_framework.c ****  ******************************************************************************
 751:../Generated_Code/usb_framework.c ****  * This is a ch9 request, used to set/clear a feature on the device
 752:../Generated_Code/usb_framework.c ****  * (device_remote_wakeup and test_mode) or on the endpoint(ep halt)
 753:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 754:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Feature (
 755:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
 756:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
 757:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
 758:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
 759:../Generated_Code/usb_framework.c **** )
 760:../Generated_Code/usb_framework.c **** {
 1014              		.loc 1 760 0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 24
 1017              		@ frame_needed = 1, uses_anonymous_args = 0
 1018 0000 80B5     		push	{r7, lr}
 1019              		.cfi_def_cfa_offset 8
 1020              		.cfi_offset 7, -8
 1021              		.cfi_offset 14, -4
 1022 0002 86B0     		sub	sp, sp, #24
 1023              		.cfi_def_cfa_offset 32
 1024 0004 00AF     		add	r7, sp, #0
 1025              		.cfi_def_cfa_register 7
 1026 0006 B960     		str	r1, [r7, #8]
 1027 0008 7A60     		str	r2, [r7, #4]
 1028 000a 3B60     		str	r3, [r7]
 1029 000c 0346     		mov	r3, r0
 1030 000e FB73     		strb	r3, [r7, #15]
 761:../Generated_Code/usb_framework.c ****     uint_8 device_status;
 762:../Generated_Code/usb_framework.c ****     uint_8  set_request;
 763:../Generated_Code/usb_framework.c ****     uint_8  status = USBERR_INVALID_REQ_TYPE;
 1031              		.loc 1 763 0
 1032 0010 CD23     		movs	r3, #205
 1033 0012 FB75     		strb	r3, [r7, #23]
 764:../Generated_Code/usb_framework.c ****     uint_8  epinfo;
 765:../Generated_Code/usb_framework.c ****     uint_8  event;
 766:../Generated_Code/usb_framework.c **** 
 767:../Generated_Code/usb_framework.c ****     UNUSED (data)
 768:../Generated_Code/usb_framework.c **** 
 769:../Generated_Code/usb_framework.c ****     *size=0;
 1034              		.loc 1 769 0
 1035 0014 3B68     		ldr	r3, [r7]
 1036 0016 0022     		movs	r2, #0
 1037 0018 1A80     		strh	r2, [r3]	@ movhi
 770:../Generated_Code/usb_framework.c ****     /* Find whether its a clear feature request or a set feature request */
 771:../Generated_Code/usb_framework.c ****     set_request = (uint_8)((setup_packet->request & USB_SET_REQUEST_MASK) >> 1 );
 1038              		.loc 1 771 0
 1039 001a BB68     		ldr	r3, [r7, #8]
 1040 001c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1041 001e 03F00203 		and	r3, r3, #2
 1042 0022 5B10     		asrs	r3, r3, #1
 1043 0024 7B75     		strb	r3, [r7, #21]
 772:../Generated_Code/usb_framework.c **** 
 773:../Generated_Code/usb_framework.c ****     if((setup_packet->request_type & USB_REQUEST_SRC_MASK) == USB_REQUEST_SRC_DEVICE)
 1044              		.loc 1 773 0
 1045 0026 BB68     		ldr	r3, [r7, #8]
 1046 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1047 002a 03F00303 		and	r3, r3, #3
 1048 002e 002B     		cmp	r3, #0
 1049 0030 60D1     		bne	.L58
 774:../Generated_Code/usb_framework.c ****     {
 775:../Generated_Code/usb_framework.c ****     	/* Request for Device */
 776:../Generated_Code/usb_framework.c **** 		if(set_request == TRUE)
 1050              		.loc 1 776 0
 1051 0032 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 1052 0034 012B     		cmp	r3, #1
 1053 0036 30D1     		bne	.L59
 777:../Generated_Code/usb_framework.c ****         {           
 778:../Generated_Code/usb_framework.c ****             /* Standard Feature Selector */
 779:../Generated_Code/usb_framework.c **** 			if((setup_packet->value == DEVICE_FEATURE_REMOTE_WAKEUP) || (setup_packet->value == DEVICE_FEATU
 1054              		.loc 1 779 0
 1055 0038 BB68     		ldr	r3, [r7, #8]
 1056 003a 5B88     		ldrh	r3, [r3, #2]
 1057 003c 012B     		cmp	r3, #1
 1058 003e 03D0     		beq	.L60
 1059              		.loc 1 779 0 is_stmt 0 discriminator 1
 1060 0040 BB68     		ldr	r3, [r7, #8]
 1061 0042 5B88     		ldrh	r3, [r3, #2]
 1062 0044 022B     		cmp	r3, #2
 1063 0046 24D1     		bne	.L61
 1064              	.L60:
 780:../Generated_Code/usb_framework.c ****             {
 781:../Generated_Code/usb_framework.c **** 				status = _usb_device_get_status(&controller_ID, USB_STATUS_DEVICE, &device_status);
 1065              		.loc 1 781 0 is_stmt 1
 1066 0048 07F10F02 		add	r2, r7, #15
 1067 004c 07F11203 		add	r3, r7, #18
 1068 0050 1046     		mov	r0, r2
 1069 0052 0621     		movs	r1, #6
 1070 0054 1A46     		mov	r2, r3
 1071 0056 FFF7FEFF 		bl	_usb_device_get_status
 1072 005a 0346     		mov	r3, r0
 1073 005c FB75     		strb	r3, [r7, #23]
 782:../Generated_Code/usb_framework.c **** 
 783:../Generated_Code/usb_framework.c **** 				if(status == USB_OK)
 1074              		.loc 1 783 0
 1075 005e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1076 0060 002B     		cmp	r3, #0
 1077 0062 15D1     		bne	.L62
 784:../Generated_Code/usb_framework.c **** 				{ 
 785:../Generated_Code/usb_framework.c **** 					/* Add the request to be set to the device_status */
 786:../Generated_Code/usb_framework.c **** 					device_status |= (uint_16)(1 << (uint_8)setup_packet->value);
 1078              		.loc 1 786 0
 1079 0064 BB68     		ldr	r3, [r7, #8]
 1080 0066 5B88     		ldrh	r3, [r3, #2]
 1081 0068 DBB2     		uxtb	r3, r3
 1082 006a 0122     		movs	r2, #1
 1083 006c 02FA03F3 		lsl	r3, r2, r3
 1084 0070 DAB2     		uxtb	r2, r3
 1085 0072 BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 1086 0074 1343     		orrs	r3, r3, r2
 1087 0076 DBB2     		uxtb	r3, r3
 1088 0078 BB74     		strb	r3, [r7, #18]
 787:../Generated_Code/usb_framework.c **** 
 788:../Generated_Code/usb_framework.c **** 					/* Set the status on the device */
 789:../Generated_Code/usb_framework.c **** 					status = _usb_device_set_status(&controller_ID, USB_STATUS_DEVICE, device_status);
 1089              		.loc 1 789 0
 1090 007a BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 1091 007c 07F10F02 		add	r2, r7, #15
 1092 0080 1046     		mov	r0, r2
 1093 0082 0621     		movs	r1, #6
 1094 0084 1A46     		mov	r2, r3
 1095 0086 FFF7FEFF 		bl	_usb_device_set_status
 1096 008a 0346     		mov	r3, r0
 1097 008c FB75     		strb	r3, [r7, #23]
 783:../Generated_Code/usb_framework.c **** 				if(status == USB_OK)
 1098              		.loc 1 783 0
 1099 008e 03E0     		b	.L63
 1100              	.L62:
 783:../Generated_Code/usb_framework.c **** 				if(status == USB_OK)
 1101              		.loc 1 783 0 is_stmt 0 discriminator 1
 1102 0090 02E0     		b	.L63
 1103              	.L61:
 790:../Generated_Code/usb_framework.c **** 				}
 791:../Generated_Code/usb_framework.c ****             }
 792:../Generated_Code/usb_framework.c ****             #ifdef OTG_BUILD                           
 793:../Generated_Code/usb_framework.c ****             /* OTG Feature Selector */
 794:../Generated_Code/usb_framework.c **** 			else if(setup_packet->value == DEVICE_SET_FEATURE_B_HNP_ENABLE)
 795:../Generated_Code/usb_framework.c ****             {
 796:../Generated_Code/usb_framework.c ****  			   OTG_DESCRIPTOR_PTR_T otg_desc_ptr;
 797:../Generated_Code/usb_framework.c ****  			   USB_PACKET_SIZE size;
 798:../Generated_Code/usb_framework.c **** 
 799:../Generated_Code/usb_framework.c ****  			   status = USB_Desc_Get_Descriptor(controller_ID, USB_OTG_DESCRIPTOR,(uint_8)UNINITIALISED_VAL
 800:../Generated_Code/usb_framework.c ****  					                            (uint_16)UNINITIALISED_VAL,(uint_8_ptr *)&otg_desc_ptr,&size);
 801:../Generated_Code/usb_framework.c ****  			   if(status == USB_OK)
 802:../Generated_Code/usb_framework.c ****  			   {
 803:../Generated_Code/usb_framework.c ****  				   if(otg_desc_ptr->bmAttributes & USB_OTG_HNP_SUPPORT)
 804:../Generated_Code/usb_framework.c ****  				   {
 805:../Generated_Code/usb_framework.c ****  					  _usb_otg_hnp_enable(controller_ID, set_request);
 806:../Generated_Code/usb_framework.c ****  				   }
 807:../Generated_Code/usb_framework.c ****  			   }            	            	               
 808:../Generated_Code/usb_framework.c ****             }
 809:../Generated_Code/usb_framework.c ****             #endif			
 810:../Generated_Code/usb_framework.c ****             else
 811:../Generated_Code/usb_framework.c ****             {
 812:../Generated_Code/usb_framework.c ****                status = USBERR_INVALID_REQ_TYPE;
 1104              		.loc 1 812 0 is_stmt 1
 1105 0092 CD23     		movs	r3, #205
 1106 0094 FB75     		strb	r3, [r7, #23]
 1107 0096 66E0     		b	.L67
 1108              	.L63:
 1109 0098 65E0     		b	.L67
 1110              	.L59:
 813:../Generated_Code/usb_framework.c ****             }																					
 814:../Generated_Code/usb_framework.c ****         }
 815:../Generated_Code/usb_framework.c ****         else //(set_request == FALSE) it is a clear feature request
 816:../Generated_Code/usb_framework.c ****         {
 817:../Generated_Code/usb_framework.c ****         	if(setup_packet->value == DEVICE_FEATURE_REMOTE_WAKEUP)
 1111              		.loc 1 817 0
 1112 009a BB68     		ldr	r3, [r7, #8]
 1113 009c 5B88     		ldrh	r3, [r3, #2]
 1114 009e 012B     		cmp	r3, #1
 1115 00a0 25D1     		bne	.L65
 818:../Generated_Code/usb_framework.c ****             {
 819:../Generated_Code/usb_framework.c ****         		status = _usb_device_get_status(&controller_ID, USB_STATUS_DEVICE, &device_status);
 1116              		.loc 1 819 0
 1117 00a2 07F10F02 		add	r2, r7, #15
 1118 00a6 07F11203 		add	r3, r7, #18
 1119 00aa 1046     		mov	r0, r2
 1120 00ac 0621     		movs	r1, #6
 1121 00ae 1A46     		mov	r2, r3
 1122 00b0 FFF7FEFF 		bl	_usb_device_get_status
 1123 00b4 0346     		mov	r3, r0
 1124 00b6 FB75     		strb	r3, [r7, #23]
 820:../Generated_Code/usb_framework.c **** 
 821:../Generated_Code/usb_framework.c ****                 if(status == USB_OK)
 1125              		.loc 1 821 0
 1126 00b8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1127 00ba 002B     		cmp	r3, #0
 1128 00bc 53D1     		bne	.L67
 822:../Generated_Code/usb_framework.c ****                 {
 823:../Generated_Code/usb_framework.c ****                 	/* Remove the request to be cleared from device_status */
 824:../Generated_Code/usb_framework.c ****                 	device_status &= (uint_16)~(1 << (uint_8)setup_packet->value);
 1129              		.loc 1 824 0
 1130 00be BB68     		ldr	r3, [r7, #8]
 1131 00c0 5B88     		ldrh	r3, [r3, #2]
 1132 00c2 DBB2     		uxtb	r3, r3
 1133 00c4 0122     		movs	r2, #1
 1134 00c6 02FA03F3 		lsl	r3, r2, r3
 1135 00ca DBB2     		uxtb	r3, r3
 1136 00cc DB43     		mvns	r3, r3
 1137 00ce DAB2     		uxtb	r2, r3
 1138 00d0 BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 1139 00d2 1340     		ands	r3, r3, r2
 1140 00d4 DBB2     		uxtb	r3, r3
 1141 00d6 BB74     		strb	r3, [r7, #18]
 825:../Generated_Code/usb_framework.c ****                 	status = _usb_device_set_status(&controller_ID, USB_STATUS_DEVICE, device_status);
 1142              		.loc 1 825 0
 1143 00d8 BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 1144 00da 07F10F02 		add	r2, r7, #15
 1145 00de 1046     		mov	r0, r2
 1146 00e0 0621     		movs	r1, #6
 1147 00e2 1A46     		mov	r2, r3
 1148 00e4 FFF7FEFF 		bl	_usb_device_set_status
 1149 00e8 0346     		mov	r3, r0
 1150 00ea FB75     		strb	r3, [r7, #23]
 1151 00ec 3BE0     		b	.L67
 1152              	.L65:
 826:../Generated_Code/usb_framework.c ****                 }
 827:../Generated_Code/usb_framework.c ****             }           
 828:../Generated_Code/usb_framework.c ****         	else
 829:../Generated_Code/usb_framework.c ****         	{
 830:../Generated_Code/usb_framework.c ****         		status = USBERR_INVALID_REQ_TYPE;
 1153              		.loc 1 830 0
 1154 00ee CD23     		movs	r3, #205
 1155 00f0 FB75     		strb	r3, [r7, #23]
 1156 00f2 38E0     		b	.L67
 1157              	.L58:
 831:../Generated_Code/usb_framework.c ****         	}
 832:../Generated_Code/usb_framework.c ****         }
 833:../Generated_Code/usb_framework.c ****     }
 834:../Generated_Code/usb_framework.c ****     else if((setup_packet->request_type & USB_REQUEST_SRC_MASK) == USB_REQUEST_SRC_ENDPOINT)
 1158              		.loc 1 834 0
 1159 00f4 BB68     		ldr	r3, [r7, #8]
 1160 00f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1161 00f8 03F00303 		and	r3, r3, #3
 1162 00fc 022B     		cmp	r3, #2
 1163 00fe 32D1     		bne	.L67
 835:../Generated_Code/usb_framework.c ****     {
 836:../Generated_Code/usb_framework.c ****         /* Request for Endpoint */
 837:../Generated_Code/usb_framework.c ****         epinfo = (uint_8)(setup_packet->index & 0x00FF);
 1164              		.loc 1 837 0
 1165 0100 BB68     		ldr	r3, [r7, #8]
 1166 0102 9B88     		ldrh	r3, [r3, #4]
 1167 0104 DBB2     		uxtb	r3, r3
 1168 0106 7B74     		strb	r3, [r7, #17]
 838:../Generated_Code/usb_framework.c **** 	    status = _usb_device_set_status(&controller_ID, (uint_8)(epinfo|USB_STATUS_ENDPOINT), set_requ
 1169              		.loc 1 838 0
 1170 0108 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 1171 010a 43F01003 		orr	r3, r3, #16
 1172 010e DAB2     		uxtb	r2, r3
 1173 0110 07F10F01 		add	r1, r7, #15
 1174 0114 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 1175 0116 0846     		mov	r0, r1
 1176 0118 1146     		mov	r1, r2
 1177 011a 1A46     		mov	r2, r3
 1178 011c FFF7FEFF 		bl	_usb_device_set_status
 1179 0120 0346     		mov	r3, r0
 1180 0122 FB75     		strb	r3, [r7, #23]
 839:../Generated_Code/usb_framework.c **** 
 840:../Generated_Code/usb_framework.c **** 	    event = (uint_8)(set_request ? USB_APP_EP_STALLED : USB_APP_EP_UNSTALLED);
 1181              		.loc 1 840 0
 1182 0124 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 1183 0126 002B     		cmp	r3, #0
 1184 0128 01D0     		beq	.L68
 1185              		.loc 1 840 0 is_stmt 0 discriminator 1
 1186 012a 0723     		movs	r3, #7
 1187 012c 00E0     		b	.L69
 1188              	.L68:
 1189              		.loc 1 840 0 discriminator 2
 1190 012e 0823     		movs	r3, #8
 1191              	.L69:
 1192              		.loc 1 840 0 discriminator 3
 1193 0130 BB75     		strb	r3, [r7, #22]
 841:../Generated_Code/usb_framework.c **** 
 842:../Generated_Code/usb_framework.c **** 	    if(setup_packet->request == CLEAR_FEATURE)
 1194              		.loc 1 842 0 is_stmt 1 discriminator 3
 1195 0132 BB68     		ldr	r3, [r7, #8]
 1196 0134 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1197 0136 012B     		cmp	r3, #1
 1198 0138 0ED1     		bne	.L70
 1199              	.LBB4:
 843:../Generated_Code/usb_framework.c ****         {
 844:../Generated_Code/usb_framework.c **** 	         uint_8  epnum = epinfo & 0x0f;
 1200              		.loc 1 844 0
 1201 013a 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 1202 013c 03F00F03 		and	r3, r3, #15
 1203 0140 3B75     		strb	r3, [r7, #20]
 845:../Generated_Code/usb_framework.c **** 	         uint_8  dir = (epinfo & 0x80) >> 7;
 1204              		.loc 1 845 0
 1205 0142 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 1206 0144 DB09     		lsrs	r3, r3, #7
 1207 0146 FB74     		strb	r3, [r7, #19]
 846:../Generated_Code/usb_framework.c **** 	         _usb_device_clear_data0_endpoint(epnum,dir);
 1208              		.loc 1 846 0
 1209 0148 3A7D     		ldrb	r2, [r7, #20]	@ zero_extendqisi2
 1210 014a FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 1211 014c 1046     		mov	r0, r2
 1212 014e 1946     		mov	r1, r3
 1213 0150 FFF7FEFF 		bl	_usb_device_clear_data0_endpoint
 847:../Generated_Code/usb_framework.c **** 	         event = USB_APP_EP_UNSTALLED;  // as far as the application is concerned, this is an UNST
 1214              		.loc 1 847 0
 1215 0154 0823     		movs	r3, #8
 1216 0156 BB75     		strb	r3, [r7, #22]
 1217              	.L70:
 1218              	.LBE4:
 848:../Generated_Code/usb_framework.c ****         }
 849:../Generated_Code/usb_framework.c **** 
 850:../Generated_Code/usb_framework.c **** 	    /* Inform the upper layers of stall/unstall */
 851:../Generated_Code/usb_framework.c ****         g_framework_callback(controller_ID,event,(void*)&epinfo);
 1219              		.loc 1 851 0
 1220 0158 054B     		ldr	r3, .L72
 1221 015a 1B68     		ldr	r3, [r3]
 1222 015c F87B     		ldrb	r0, [r7, #15]	@ zero_extendqisi2
 1223 015e B97D     		ldrb	r1, [r7, #22]	@ zero_extendqisi2
 1224 0160 07F11102 		add	r2, r7, #17
 1225 0164 9847     		blx	r3
 1226              	.L67:
 852:../Generated_Code/usb_framework.c ****     }
 853:../Generated_Code/usb_framework.c ****     return status;
 1227              		.loc 1 853 0
 1228 0166 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 854:../Generated_Code/usb_framework.c **** }
 1229              		.loc 1 854 0
 1230 0168 1846     		mov	r0, r3
 1231 016a 1837     		adds	r7, r7, #24
 1232 016c BD46     		mov	sp, r7
 1233              		@ sp needed
 1234 016e 80BD     		pop	{r7, pc}
 1235              	.L73:
 1236              		.align	2
 1237              	.L72:
 1238 0170 00000000 		.word	g_framework_callback
 1239              		.cfi_endproc
 1240              	.LFE10:
 1242              		.section	.text.USB_Strd_Req_Set_Address,"ax",%progbits
 1243              		.align	2
 1244              		.thumb
 1245              		.thumb_func
 1247              	USB_Strd_Req_Set_Address:
 1248              	.LFB11:
 855:../Generated_Code/usb_framework.c **** 
 856:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 857:../Generated_Code/usb_framework.c ****  *
 858:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Set_Address
 859:../Generated_Code/usb_framework.c ****  *
 860:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Set Address request
 861:../Generated_Code/usb_framework.c ****  *
 862:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 863:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
 864:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
 865:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
 866:../Generated_Code/usb_framework.c ****  *
 867:../Generated_Code/usb_framework.c ****  * @return status:
 868:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
 869:../Generated_Code/usb_framework.c ****  *               Others : When Error
 870:../Generated_Code/usb_framework.c ****  *
 871:../Generated_Code/usb_framework.c ****  ******************************************************************************
 872:../Generated_Code/usb_framework.c ****  * This is a ch9 request, saves the new address in a global variable. this
 873:../Generated_Code/usb_framework.c ****  * address is assigned to the device after this transaction completes
 874:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 875:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Set_Address (
 876:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
 877:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
 878:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
 879:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
 880:../Generated_Code/usb_framework.c **** )
 881:../Generated_Code/usb_framework.c **** {
 1249              		.loc 1 881 0
 1250              		.cfi_startproc
 1251              		@ args = 0, pretend = 0, frame = 16
 1252              		@ frame_needed = 1, uses_anonymous_args = 0
 1253 0000 80B5     		push	{r7, lr}
 1254              		.cfi_def_cfa_offset 8
 1255              		.cfi_offset 7, -8
 1256              		.cfi_offset 14, -4
 1257 0002 84B0     		sub	sp, sp, #16
 1258              		.cfi_def_cfa_offset 24
 1259 0004 00AF     		add	r7, sp, #0
 1260              		.cfi_def_cfa_register 7
 1261 0006 B960     		str	r1, [r7, #8]
 1262 0008 7A60     		str	r2, [r7, #4]
 1263 000a 3B60     		str	r3, [r7]
 1264 000c 0346     		mov	r3, r0
 1265 000e FB73     		strb	r3, [r7, #15]
 882:../Generated_Code/usb_framework.c ****     UNUSED (data)
 883:../Generated_Code/usb_framework.c ****     *size=0;
 1266              		.loc 1 883 0
 1267 0010 3B68     		ldr	r3, [r7]
 1268 0012 0022     		movs	r2, #0
 1269 0014 1A80     		strh	r2, [r3]	@ movhi
 884:../Generated_Code/usb_framework.c ****     /* update device state */
 885:../Generated_Code/usb_framework.c ****     (void)_usb_device_set_status(&controller_ID,
 1270              		.loc 1 885 0
 1271 0016 07F10F03 		add	r3, r7, #15
 1272 001a 1846     		mov	r0, r3
 1273 001c 0121     		movs	r1, #1
 1274 001e 0422     		movs	r2, #4
 1275 0020 FFF7FEFF 		bl	_usb_device_set_status
 886:../Generated_Code/usb_framework.c ****         USB_STATUS_DEVICE_STATE, USB_STATE_PENDING_ADDRESS);
 887:../Generated_Code/usb_framework.c **** 
 888:../Generated_Code/usb_framework.c ****     /*store the address from setup_packet into assigned_address*/
 889:../Generated_Code/usb_framework.c ****     g_assigned_address = (uint_8)setup_packet->value;
 1276              		.loc 1 889 0
 1277 0024 BB68     		ldr	r3, [r7, #8]
 1278 0026 5B88     		ldrh	r3, [r3, #2]
 1279 0028 DAB2     		uxtb	r2, r3
 1280 002a 034B     		ldr	r3, .L76
 1281 002c 1A70     		strb	r2, [r3]
 890:../Generated_Code/usb_framework.c **** 
 891:../Generated_Code/usb_framework.c ****     return USB_OK;
 1282              		.loc 1 891 0
 1283 002e 0023     		movs	r3, #0
 892:../Generated_Code/usb_framework.c **** }
 1284              		.loc 1 892 0
 1285 0030 1846     		mov	r0, r3
 1286 0032 1037     		adds	r7, r7, #16
 1287 0034 BD46     		mov	sp, r7
 1288              		@ sp needed
 1289 0036 80BD     		pop	{r7, pc}
 1290              	.L77:
 1291              		.align	2
 1292              	.L76:
 1293 0038 00000000 		.word	g_assigned_address
 1294              		.cfi_endproc
 1295              	.LFE11:
 1297              		.section	.text.USB_Strd_Req_Assign_Address,"ax",%progbits
 1298              		.align	2
 1299              		.thumb
 1300              		.thumb_func
 1302              	USB_Strd_Req_Assign_Address:
 1303              	.LFB12:
 893:../Generated_Code/usb_framework.c **** 
 894:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 895:../Generated_Code/usb_framework.c ****  *
 896:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Assign_Address
 897:../Generated_Code/usb_framework.c ****  *
 898:../Generated_Code/usb_framework.c ****  * @brief  This function assigns the address to the Device
 899:../Generated_Code/usb_framework.c ****  *
 900:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 901:../Generated_Code/usb_framework.c ****  *
 902:../Generated_Code/usb_framework.c ****  * @return status
 903:../Generated_Code/usb_framework.c ****  *                       USB_OK: Always
 904:../Generated_Code/usb_framework.c ****  *
 905:../Generated_Code/usb_framework.c ****  ******************************************************************************
 906:../Generated_Code/usb_framework.c ****  * This function assigns the new address and is called (from the control
 907:../Generated_Code/usb_framework.c ****  * service) after the set address transaction completes
 908:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 909:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Assign_Address (
 910:../Generated_Code/usb_framework.c ****     uint_8    controller_ID         /* [IN] Controller ID */
 911:../Generated_Code/usb_framework.c **** )
 912:../Generated_Code/usb_framework.c **** {
 1304              		.loc 1 912 0
 1305              		.cfi_startproc
 1306              		@ args = 0, pretend = 0, frame = 8
 1307              		@ frame_needed = 1, uses_anonymous_args = 0
 1308 0000 80B5     		push	{r7, lr}
 1309              		.cfi_def_cfa_offset 8
 1310              		.cfi_offset 7, -8
 1311              		.cfi_offset 14, -4
 1312 0002 82B0     		sub	sp, sp, #8
 1313              		.cfi_def_cfa_offset 16
 1314 0004 00AF     		add	r7, sp, #0
 1315              		.cfi_def_cfa_register 7
 1316 0006 0346     		mov	r3, r0
 1317 0008 FB71     		strb	r3, [r7, #7]
 913:../Generated_Code/usb_framework.c ****     /* Set Device Address */
 914:../Generated_Code/usb_framework.c ****     (void)_usb_device_set_address(&controller_ID, g_assigned_address);
 1318              		.loc 1 914 0
 1319 000a 0D4B     		ldr	r3, .L80
 1320 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1321 000e FA1D     		adds	r2, r7, #7
 1322 0010 1046     		mov	r0, r2
 1323 0012 1946     		mov	r1, r3
 1324 0014 FFF7FEFF 		bl	_usb_device_set_address
 915:../Generated_Code/usb_framework.c **** 
 916:../Generated_Code/usb_framework.c ****     /* Set Device state */
 917:../Generated_Code/usb_framework.c ****     (void)_usb_device_set_status(&controller_ID,
 1325              		.loc 1 917 0
 1326 0018 FB1D     		adds	r3, r7, #7
 1327 001a 1846     		mov	r0, r3
 1328 001c 0121     		movs	r1, #1
 1329 001e 0122     		movs	r2, #1
 1330 0020 FFF7FEFF 		bl	_usb_device_set_status
 918:../Generated_Code/usb_framework.c ****         USB_STATUS_DEVICE_STATE, USB_STATE_ADDRESS);
 919:../Generated_Code/usb_framework.c ****     /* Set Device state */
 920:../Generated_Code/usb_framework.c ****     (void)_usb_device_set_status(&controller_ID, USB_STATUS_ADDRESS,
 1331              		.loc 1 920 0
 1332 0024 064B     		ldr	r3, .L80
 1333 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1334 0028 FA1D     		adds	r2, r7, #7
 1335 002a 1046     		mov	r0, r2
 1336 002c 0321     		movs	r1, #3
 1337 002e 1A46     		mov	r2, r3
 1338 0030 FFF7FEFF 		bl	_usb_device_set_status
 921:../Generated_Code/usb_framework.c ****         g_assigned_address);
 922:../Generated_Code/usb_framework.c **** 
 923:../Generated_Code/usb_framework.c ****     return USB_OK;
 1339              		.loc 1 923 0
 1340 0034 0023     		movs	r3, #0
 924:../Generated_Code/usb_framework.c **** }
 1341              		.loc 1 924 0
 1342 0036 1846     		mov	r0, r3
 1343 0038 0837     		adds	r7, r7, #8
 1344 003a BD46     		mov	sp, r7
 1345              		@ sp needed
 1346 003c 80BD     		pop	{r7, pc}
 1347              	.L81:
 1348 003e 00BF     		.align	2
 1349              	.L80:
 1350 0040 00000000 		.word	g_assigned_address
 1351              		.cfi_endproc
 1352              	.LFE12:
 1354              		.section	.text.USB_Strd_Req_Get_Config,"ax",%progbits
 1355              		.align	2
 1356              		.thumb
 1357              		.thumb_func
 1359              	USB_Strd_Req_Get_Config:
 1360              	.LFB13:
 925:../Generated_Code/usb_framework.c **** 
 926:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 927:../Generated_Code/usb_framework.c ****  *
 928:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Get_Config
 929:../Generated_Code/usb_framework.c ****  *
 930:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Get Config request
 931:../Generated_Code/usb_framework.c ****  *
 932:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 933:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
 934:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
 935:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
 936:../Generated_Code/usb_framework.c ****  *
 937:../Generated_Code/usb_framework.c ****  * @return status:
 938:../Generated_Code/usb_framework.c ****  *               USB_OK : Always
 939:../Generated_Code/usb_framework.c ****  *
 940:../Generated_Code/usb_framework.c ****  ******************************************************************************
 941:../Generated_Code/usb_framework.c ****  * This is a ch9 request and is used to know the currently used configuration
 942:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 943:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Config (
 944:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
 945:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
 946:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
 947:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
 948:../Generated_Code/usb_framework.c **** )
 949:../Generated_Code/usb_framework.c **** {
 1361              		.loc 1 949 0
 1362              		.cfi_startproc
 1363              		@ args = 0, pretend = 0, frame = 24
 1364              		@ frame_needed = 1, uses_anonymous_args = 0
 1365 0000 80B5     		push	{r7, lr}
 1366              		.cfi_def_cfa_offset 8
 1367              		.cfi_offset 7, -8
 1368              		.cfi_offset 14, -4
 1369 0002 86B0     		sub	sp, sp, #24
 1370              		.cfi_def_cfa_offset 32
 1371 0004 00AF     		add	r7, sp, #0
 1372              		.cfi_def_cfa_register 7
 1373 0006 B960     		str	r1, [r7, #8]
 1374 0008 7A60     		str	r2, [r7, #4]
 1375 000a 3B60     		str	r3, [r7]
 1376 000c 0346     		mov	r3, r0
 1377 000e FB73     		strb	r3, [r7, #15]
 950:../Generated_Code/usb_framework.c ****     uint_8 device_status;
 951:../Generated_Code/usb_framework.c ****  
 952:../Generated_Code/usb_framework.c ****     UNUSED(setup_packet)
 953:../Generated_Code/usb_framework.c ****     
 954:../Generated_Code/usb_framework.c ****     *size = CONFIG_SIZE;
 1378              		.loc 1 954 0
 1379 0010 3B68     		ldr	r3, [r7]
 1380 0012 0122     		movs	r2, #1
 1381 0014 1A80     		strh	r2, [r3]	@ movhi
 955:../Generated_Code/usb_framework.c ****     (void)_usb_device_get_status(&controller_ID, USB_STATUS_CURRENT_CONFIG, &device_status);
 1382              		.loc 1 955 0
 1383 0016 07F10F02 		add	r2, r7, #15
 1384 001a 07F11703 		add	r3, r7, #23
 1385 001e 1046     		mov	r0, r2
 1386 0020 0421     		movs	r1, #4
 1387 0022 1A46     		mov	r2, r3
 1388 0024 FFF7FEFF 		bl	_usb_device_get_status
 956:../Generated_Code/usb_framework.c ****     g_std_framework_data = (uint_16)device_status;
 1389              		.loc 1 956 0
 1390 0028 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1391 002a 1A46     		mov	r2, r3
 1392 002c 064B     		ldr	r3, .L84
 1393 002e 1A80     		strh	r2, [r3]	@ movhi
 957:../Generated_Code/usb_framework.c ****     g_std_framework_data = BYTE_SWAP16(g_std_framework_data);
 1394              		.loc 1 957 0
 1395 0030 054B     		ldr	r3, .L84
 1396 0032 1A88     		ldrh	r2, [r3]
 1397 0034 044B     		ldr	r3, .L84
 1398 0036 1A80     		strh	r2, [r3]	@ movhi
 958:../Generated_Code/usb_framework.c ****     *data = (uint_8_ptr)(&g_std_framework_data);
 1399              		.loc 1 958 0
 1400 0038 7B68     		ldr	r3, [r7, #4]
 1401 003a 034A     		ldr	r2, .L84
 1402 003c 1A60     		str	r2, [r3]
 959:../Generated_Code/usb_framework.c **** 
 960:../Generated_Code/usb_framework.c ****     return USB_OK;
 1403              		.loc 1 960 0
 1404 003e 0023     		movs	r3, #0
 961:../Generated_Code/usb_framework.c **** }
 1405              		.loc 1 961 0
 1406 0040 1846     		mov	r0, r3
 1407 0042 1837     		adds	r7, r7, #24
 1408 0044 BD46     		mov	sp, r7
 1409              		@ sp needed
 1410 0046 80BD     		pop	{r7, pc}
 1411              	.L85:
 1412              		.align	2
 1413              	.L84:
 1414 0048 00000000 		.word	g_std_framework_data
 1415              		.cfi_endproc
 1416              	.LFE13:
 1418              		.section	.text.USB_Strd_Req_Set_Config,"ax",%progbits
 1419              		.align	2
 1420              		.thumb
 1421              		.thumb_func
 1423              	USB_Strd_Req_Set_Config:
 1424              	.LFB14:
 962:../Generated_Code/usb_framework.c **** 
 963:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
 964:../Generated_Code/usb_framework.c ****  *
 965:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Set_Config
 966:../Generated_Code/usb_framework.c ****  *
 967:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Set Config request
 968:../Generated_Code/usb_framework.c ****  *
 969:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
 970:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
 971:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
 972:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
 973:../Generated_Code/usb_framework.c ****  *
 974:../Generated_Code/usb_framework.c ****  * @return status:
 975:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
 976:../Generated_Code/usb_framework.c ****  *               Others : When Error
 977:../Generated_Code/usb_framework.c ****  *
 978:../Generated_Code/usb_framework.c ****  ******************************************************************************
 979:../Generated_Code/usb_framework.c ****  * This is a ch9 request and is used by the host to set the new configuration
 980:../Generated_Code/usb_framework.c ****  *****************************************************************************/
 981:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Set_Config (
 982:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
 983:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
 984:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
 985:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
 986:../Generated_Code/usb_framework.c **** )
 987:../Generated_Code/usb_framework.c **** {
 1425              		.loc 1 987 0
 1426              		.cfi_startproc
 1427              		@ args = 0, pretend = 0, frame = 24
 1428              		@ frame_needed = 1, uses_anonymous_args = 0
 1429 0000 80B5     		push	{r7, lr}
 1430              		.cfi_def_cfa_offset 8
 1431              		.cfi_offset 7, -8
 1432              		.cfi_offset 14, -4
 1433 0002 86B0     		sub	sp, sp, #24
 1434              		.cfi_def_cfa_offset 32
 1435 0004 00AF     		add	r7, sp, #0
 1436              		.cfi_def_cfa_register 7
 1437 0006 B960     		str	r1, [r7, #8]
 1438 0008 7A60     		str	r2, [r7, #4]
 1439 000a 3B60     		str	r3, [r7]
 1440 000c 0346     		mov	r3, r0
 1441 000e FB73     		strb	r3, [r7, #15]
 988:../Generated_Code/usb_framework.c ****     uint_8 status = USBERR_INVALID_REQ_TYPE;
 1442              		.loc 1 988 0
 1443 0010 CD23     		movs	r3, #205
 1444 0012 FB75     		strb	r3, [r7, #23]
 989:../Generated_Code/usb_framework.c ****     uint_16 config_val;
 990:../Generated_Code/usb_framework.c **** 
 991:../Generated_Code/usb_framework.c ****     UNUSED (data)
 992:../Generated_Code/usb_framework.c ****     *size = 0;
 1445              		.loc 1 992 0
 1446 0014 3B68     		ldr	r3, [r7]
 1447 0016 0022     		movs	r2, #0
 1448 0018 1A80     		strh	r2, [r3]	@ movhi
 993:../Generated_Code/usb_framework.c ****     status = USB_STATUS_ERROR;
 1449              		.loc 1 993 0
 1450 001a 0423     		movs	r3, #4
 1451 001c FB75     		strb	r3, [r7, #23]
 994:../Generated_Code/usb_framework.c ****     config_val = setup_packet->value;
 1452              		.loc 1 994 0
 1453 001e BB68     		ldr	r3, [r7, #8]
 1454 0020 5B88     		ldrh	r3, [r3, #2]
 1455 0022 BB82     		strh	r3, [r7, #20]	@ movhi
 995:../Generated_Code/usb_framework.c **** 
 996:../Generated_Code/usb_framework.c ****     if (USB_Desc_Valid_Configation(controller_ID, config_val))
 1456              		.loc 1 996 0
 1457 0024 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1458 0026 BB8A     		ldrh	r3, [r7, #20]
 1459 0028 1046     		mov	r0, r2
 1460 002a 1946     		mov	r1, r3
 1461 002c FFF7FEFF 		bl	USB_Desc_Valid_Configation
 1462 0030 0346     		mov	r3, r0
 1463 0032 002B     		cmp	r3, #0
 1464 0034 2AD0     		beq	.L87
 1465              	.LBB5:
 997:../Generated_Code/usb_framework.c ****     /*if valid configuration (fn returns boolean value)*/
 998:../Generated_Code/usb_framework.c ****     {
 999:../Generated_Code/usb_framework.c ****         uint_8 device_state = USB_STATE_CONFIG;
 1466              		.loc 1 999 0
 1467 0036 0023     		movs	r3, #0
 1468 0038 BB75     		strb	r3, [r7, #22]
1000:../Generated_Code/usb_framework.c **** 
1001:../Generated_Code/usb_framework.c ****         /* if config_val is 0 */
1002:../Generated_Code/usb_framework.c ****         if (!config_val)
 1469              		.loc 1 1002 0
 1470 003a BB8A     		ldrh	r3, [r7, #20]
 1471 003c 002B     		cmp	r3, #0
 1472 003e 01D1     		bne	.L88
1003:../Generated_Code/usb_framework.c ****         {
1004:../Generated_Code/usb_framework.c ****             device_state = USB_STATE_ADDRESS ;
 1473              		.loc 1 1004 0
 1474 0040 0123     		movs	r3, #1
 1475 0042 BB75     		strb	r3, [r7, #22]
 1476              	.L88:
1005:../Generated_Code/usb_framework.c ****         }
1006:../Generated_Code/usb_framework.c **** 
1007:../Generated_Code/usb_framework.c ****         status = _usb_device_set_status(&controller_ID, USB_STATUS_DEVICE_STATE,
 1477              		.loc 1 1007 0
 1478 0044 07F10F02 		add	r2, r7, #15
 1479 0048 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 1480 004a 1046     		mov	r0, r2
 1481 004c 0121     		movs	r1, #1
 1482 004e 1A46     		mov	r2, r3
 1483 0050 FFF7FEFF 		bl	_usb_device_set_status
 1484 0054 0346     		mov	r3, r0
 1485 0056 FB75     		strb	r3, [r7, #23]
1008:../Generated_Code/usb_framework.c ****             device_state);
1009:../Generated_Code/usb_framework.c ****         status = _usb_device_set_status(&controller_ID,
 1486              		.loc 1 1009 0
 1487 0058 BB8A     		ldrh	r3, [r7, #20]
 1488 005a DBB2     		uxtb	r3, r3
 1489 005c 07F10F02 		add	r2, r7, #15
 1490 0060 1046     		mov	r0, r2
 1491 0062 0421     		movs	r1, #4
 1492 0064 1A46     		mov	r2, r3
 1493 0066 FFF7FEFF 		bl	_usb_device_set_status
 1494 006a 0346     		mov	r3, r0
 1495 006c FB75     		strb	r3, [r7, #23]
1010:../Generated_Code/usb_framework.c ****             USB_STATUS_CURRENT_CONFIG, (uint_8)config_val);
1011:../Generated_Code/usb_framework.c ****         /*
1012:../Generated_Code/usb_framework.c ****            Callback to the app. to let the application know about the new
1013:../Generated_Code/usb_framework.c ****            Configuration
1014:../Generated_Code/usb_framework.c ****         */
1015:../Generated_Code/usb_framework.c ****         g_framework_callback(controller_ID,USB_APP_CONFIG_CHANGED,
 1496              		.loc 1 1015 0
 1497 006e 0A4B     		ldr	r3, .L90
 1498 0070 1B68     		ldr	r3, [r3]
 1499 0072 F97B     		ldrb	r1, [r7, #15]	@ zero_extendqisi2
 1500 0074 07F11402 		add	r2, r7, #20
 1501 0078 0846     		mov	r0, r1
 1502 007a 0121     		movs	r1, #1
 1503 007c 9847     		blx	r3
1016:../Generated_Code/usb_framework.c ****             (void *)&config_val);
1017:../Generated_Code/usb_framework.c ****         g_framework_callback(controller_ID,USB_APP_ENUM_COMPLETE, NULL);
 1504              		.loc 1 1017 0
 1505 007e 064B     		ldr	r3, .L90
 1506 0080 1B68     		ldr	r3, [r3]
 1507 0082 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1508 0084 1046     		mov	r0, r2
 1509 0086 0221     		movs	r1, #2
 1510 0088 0022     		movs	r2, #0
 1511 008a 9847     		blx	r3
 1512              	.L87:
 1513              	.LBE5:
1018:../Generated_Code/usb_framework.c ****     }
1019:../Generated_Code/usb_framework.c **** 
1020:../Generated_Code/usb_framework.c ****     return status;
 1514              		.loc 1 1020 0
 1515 008c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1021:../Generated_Code/usb_framework.c ****  }
 1516              		.loc 1 1021 0
 1517 008e 1846     		mov	r0, r3
 1518 0090 1837     		adds	r7, r7, #24
 1519 0092 BD46     		mov	sp, r7
 1520              		@ sp needed
 1521 0094 80BD     		pop	{r7, pc}
 1522              	.L91:
 1523 0096 00BF     		.align	2
 1524              	.L90:
 1525 0098 00000000 		.word	g_framework_callback
 1526              		.cfi_endproc
 1527              	.LFE14:
 1529              		.section	.text.USB_Strd_Req_Get_Interface,"ax",%progbits
 1530              		.align	2
 1531              		.thumb
 1532              		.thumb_func
 1534              	USB_Strd_Req_Get_Interface:
 1535              	.LFB15:
1022:../Generated_Code/usb_framework.c **** 
1023:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
1024:../Generated_Code/usb_framework.c ****  *
1025:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Get_Interface
1026:../Generated_Code/usb_framework.c ****  *
1027:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Get Interface request
1028:../Generated_Code/usb_framework.c ****  *
1029:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
1030:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
1031:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
1032:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
1033:../Generated_Code/usb_framework.c ****  *
1034:../Generated_Code/usb_framework.c ****  * @return status:
1035:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
1036:../Generated_Code/usb_framework.c ****  *               Others : When Error
1037:../Generated_Code/usb_framework.c ****  *
1038:../Generated_Code/usb_framework.c ****  ******************************************************************************
1039:../Generated_Code/usb_framework.c ****  * This is a ch9 request and is used to know the current interface
1040:../Generated_Code/usb_framework.c ****  *****************************************************************************/
1041:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Interface (
1042:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
1043:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
1044:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
1045:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
1046:../Generated_Code/usb_framework.c **** )
1047:../Generated_Code/usb_framework.c **** {
 1536              		.loc 1 1047 0
 1537              		.cfi_startproc
 1538              		@ args = 0, pretend = 0, frame = 24
 1539              		@ frame_needed = 1, uses_anonymous_args = 0
 1540 0000 80B5     		push	{r7, lr}
 1541              		.cfi_def_cfa_offset 8
 1542              		.cfi_offset 7, -8
 1543              		.cfi_offset 14, -4
 1544 0002 86B0     		sub	sp, sp, #24
 1545              		.cfi_def_cfa_offset 32
 1546 0004 00AF     		add	r7, sp, #0
 1547              		.cfi_def_cfa_register 7
 1548 0006 B960     		str	r1, [r7, #8]
 1549 0008 7A60     		str	r2, [r7, #4]
 1550 000a 3B60     		str	r3, [r7]
 1551 000c 0346     		mov	r3, r0
 1552 000e FB73     		strb	r3, [r7, #15]
1048:../Generated_Code/usb_framework.c ****     uint_8 status;
1049:../Generated_Code/usb_framework.c **** 
1050:../Generated_Code/usb_framework.c ****     /* Request type not for interface */
1051:../Generated_Code/usb_framework.c ****     if((setup_packet->request_type & USB_REQUEST_SRC_MASK) != USB_REQUEST_SRC_INTERFACE)
 1553              		.loc 1 1051 0
 1554 0010 BB68     		ldr	r3, [r7, #8]
 1555 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1556 0014 03F00303 		and	r3, r3, #3
 1557 0018 012B     		cmp	r3, #1
 1558 001a 01D0     		beq	.L93
1052:../Generated_Code/usb_framework.c ****     {
1053:../Generated_Code/usb_framework.c ****         return USB_STATUS_ERROR;
 1559              		.loc 1 1053 0
 1560 001c 0423     		movs	r3, #4
 1561 001e 11E0     		b	.L94
 1562              	.L93:
1054:../Generated_Code/usb_framework.c ****     }
1055:../Generated_Code/usb_framework.c ****     else
1056:../Generated_Code/usb_framework.c ****     {
1057:../Generated_Code/usb_framework.c ****     	*size = INTERFACE_SIZE;
 1563              		.loc 1 1057 0
 1564 0020 3B68     		ldr	r3, [r7]
 1565 0022 0122     		movs	r2, #1
 1566 0024 1A80     		strh	r2, [r3]	@ movhi
1058:../Generated_Code/usb_framework.c **** 		status = USB_Desc_Get_Interface(controller_ID,(uint_8)setup_packet->index,
 1567              		.loc 1 1058 0
 1568 0026 BB68     		ldr	r3, [r7, #8]
 1569 0028 9B88     		ldrh	r3, [r3, #4]
 1570 002a DBB2     		uxtb	r3, r3
 1571 002c FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1572 002e 1046     		mov	r0, r2
 1573 0030 1946     		mov	r1, r3
 1574 0032 064A     		ldr	r2, .L95
 1575 0034 FFF7FEFF 		bl	USB_Desc_Get_Interface
 1576 0038 0346     		mov	r3, r0
 1577 003a FB75     		strb	r3, [r7, #23]
1059:../Generated_Code/usb_framework.c **** 										(uint_8_ptr)&g_std_framework_data);
1060:../Generated_Code/usb_framework.c **** 		*data = (uint_8_ptr)&g_std_framework_data;
 1578              		.loc 1 1060 0
 1579 003c 7B68     		ldr	r3, [r7, #4]
 1580 003e 034A     		ldr	r2, .L95
 1581 0040 1A60     		str	r2, [r3]
1061:../Generated_Code/usb_framework.c **** 
1062:../Generated_Code/usb_framework.c **** 		return status;
 1582              		.loc 1 1062 0
 1583 0042 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1584              	.L94:
1063:../Generated_Code/usb_framework.c ****     }
1064:../Generated_Code/usb_framework.c **** }
 1585              		.loc 1 1064 0
 1586 0044 1846     		mov	r0, r3
 1587 0046 1837     		adds	r7, r7, #24
 1588 0048 BD46     		mov	sp, r7
 1589              		@ sp needed
 1590 004a 80BD     		pop	{r7, pc}
 1591              	.L96:
 1592              		.align	2
 1593              	.L95:
 1594 004c 00000000 		.word	g_std_framework_data
 1595              		.cfi_endproc
 1596              	.LFE15:
 1598              		.section	.text.USB_Strd_Req_Set_Interface,"ax",%progbits
 1599              		.align	2
 1600              		.thumb
 1601              		.thumb_func
 1603              	USB_Strd_Req_Set_Interface:
 1604              	.LFB16:
1065:../Generated_Code/usb_framework.c **** 
1066:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
1067:../Generated_Code/usb_framework.c ****  *
1068:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Set_Interface
1069:../Generated_Code/usb_framework.c ****  *
1070:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Set Interface request
1071:../Generated_Code/usb_framework.c ****  *
1072:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
1073:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
1074:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
1075:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
1076:../Generated_Code/usb_framework.c ****  *
1077:../Generated_Code/usb_framework.c ****  * @return status:
1078:../Generated_Code/usb_framework.c ****  *               USB_OK : Always
1079:../Generated_Code/usb_framework.c ****  *
1080:../Generated_Code/usb_framework.c ****  ******************************************************************************
1081:../Generated_Code/usb_framework.c ****  * This is a ch9 request and is used by the  host to set the interface
1082:../Generated_Code/usb_framework.c ****  *****************************************************************************/
1083:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Set_Interface (
1084:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
1085:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
1086:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
1087:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
1088:../Generated_Code/usb_framework.c **** )
1089:../Generated_Code/usb_framework.c **** {
 1605              		.loc 1 1089 0
 1606              		.cfi_startproc
 1607              		@ args = 0, pretend = 0, frame = 24
 1608              		@ frame_needed = 1, uses_anonymous_args = 0
 1609 0000 80B5     		push	{r7, lr}
 1610              		.cfi_def_cfa_offset 8
 1611              		.cfi_offset 7, -8
 1612              		.cfi_offset 14, -4
 1613 0002 86B0     		sub	sp, sp, #24
 1614              		.cfi_def_cfa_offset 32
 1615 0004 00AF     		add	r7, sp, #0
 1616              		.cfi_def_cfa_register 7
 1617 0006 B960     		str	r1, [r7, #8]
 1618 0008 7A60     		str	r2, [r7, #4]
 1619 000a 3B60     		str	r3, [r7]
 1620 000c 0346     		mov	r3, r0
 1621 000e FB73     		strb	r3, [r7, #15]
1090:../Generated_Code/usb_framework.c ****     uint_8 status;
1091:../Generated_Code/usb_framework.c **** 
1092:../Generated_Code/usb_framework.c ****     UNUSED (data);
1093:../Generated_Code/usb_framework.c ****     *size=0;
 1622              		.loc 1 1093 0
 1623 0010 3B68     		ldr	r3, [r7]
 1624 0012 0022     		movs	r2, #0
 1625 0014 1A80     		strh	r2, [r3]	@ movhi
1094:../Generated_Code/usb_framework.c **** 
1095:../Generated_Code/usb_framework.c ****     /* Request type not for interface */
1096:../Generated_Code/usb_framework.c ****     if((setup_packet->request_type & USB_REQUEST_SRC_MASK) != USB_REQUEST_SRC_INTERFACE)
 1626              		.loc 1 1096 0
 1627 0016 BB68     		ldr	r3, [r7, #8]
 1628 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1629 001a 03F00303 		and	r3, r3, #3
 1630 001e 012B     		cmp	r3, #1
 1631 0020 01D0     		beq	.L98
1097:../Generated_Code/usb_framework.c ****     {
1098:../Generated_Code/usb_framework.c ****         return USB_STATUS_ERROR;
 1632              		.loc 1 1098 0
 1633 0022 0423     		movs	r3, #4
 1634 0024 0EE0     		b	.L99
 1635              	.L98:
1099:../Generated_Code/usb_framework.c ****     }
1100:../Generated_Code/usb_framework.c ****     else
1101:../Generated_Code/usb_framework.c ****     {
1102:../Generated_Code/usb_framework.c ****     	/* Set Interface and alternate interface from setup_packet */
1103:../Generated_Code/usb_framework.c ****     	status = USB_Desc_Set_Interface(controller_ID,(uint_8)setup_packet->index,
 1636              		.loc 1 1103 0
 1637 0026 BB68     		ldr	r3, [r7, #8]
 1638 0028 9B88     		ldrh	r3, [r3, #4]
 1639 002a DAB2     		uxtb	r2, r3
1104:../Generated_Code/usb_framework.c **** 										(uint_8)setup_packet->value);
 1640              		.loc 1 1104 0
 1641 002c BB68     		ldr	r3, [r7, #8]
 1642 002e 5B88     		ldrh	r3, [r3, #2]
1103:../Generated_Code/usb_framework.c ****     	status = USB_Desc_Set_Interface(controller_ID,(uint_8)setup_packet->index,
 1643              		.loc 1 1103 0
 1644 0030 DBB2     		uxtb	r3, r3
 1645 0032 F97B     		ldrb	r1, [r7, #15]	@ zero_extendqisi2
 1646 0034 0846     		mov	r0, r1
 1647 0036 1146     		mov	r1, r2
 1648 0038 1A46     		mov	r2, r3
 1649 003a FFF7FEFF 		bl	USB_Desc_Set_Interface
 1650 003e 0346     		mov	r3, r0
 1651 0040 FB75     		strb	r3, [r7, #23]
1105:../Generated_Code/usb_framework.c **** 
1106:../Generated_Code/usb_framework.c ****     	UNUSED (status);
1107:../Generated_Code/usb_framework.c **** 	
1108:../Generated_Code/usb_framework.c ****     	return USB_OK;
 1652              		.loc 1 1108 0
 1653 0042 0023     		movs	r3, #0
 1654              	.L99:
1109:../Generated_Code/usb_framework.c ****     }
1110:../Generated_Code/usb_framework.c **** }
 1655              		.loc 1 1110 0
 1656 0044 1846     		mov	r0, r3
 1657 0046 1837     		adds	r7, r7, #24
 1658 0048 BD46     		mov	sp, r7
 1659              		@ sp needed
 1660 004a 80BD     		pop	{r7, pc}
 1661              		.cfi_endproc
 1662              	.LFE16:
 1664              		.section	.text.USB_Strd_Req_Sync_Frame,"ax",%progbits
 1665              		.align	2
 1666              		.thumb
 1667              		.thumb_func
 1669              	USB_Strd_Req_Sync_Frame:
 1670              	.LFB17:
1111:../Generated_Code/usb_framework.c **** 
1112:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
1113:../Generated_Code/usb_framework.c ****  *
1114:../Generated_Code/usb_framework.c ****  * @name  USB_Strd_Req_Sync_Frame
1115:../Generated_Code/usb_framework.c ****  *
1116:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Sync Frame request
1117:../Generated_Code/usb_framework.c ****  *
1118:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
1119:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
1120:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
1121:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
1122:../Generated_Code/usb_framework.c ****  *
1123:../Generated_Code/usb_framework.c ****  * @return status:
1124:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
1125:../Generated_Code/usb_framework.c ****  *               Others : When Error
1126:../Generated_Code/usb_framework.c ****  *
1127:../Generated_Code/usb_framework.c ****  ******************************************************************************
1128:../Generated_Code/usb_framework.c ****  * This req is used to set and then report an ep's synchronization frame
1129:../Generated_Code/usb_framework.c ****  *****************************************************************************/
1130:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Sync_Frame (
1131:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
1132:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
1133:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
1134:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
1135:../Generated_Code/usb_framework.c **** )
1136:../Generated_Code/usb_framework.c **** {
 1671              		.loc 1 1136 0
 1672              		.cfi_startproc
 1673              		@ args = 0, pretend = 0, frame = 24
 1674              		@ frame_needed = 1, uses_anonymous_args = 0
 1675 0000 80B5     		push	{r7, lr}
 1676              		.cfi_def_cfa_offset 8
 1677              		.cfi_offset 7, -8
 1678              		.cfi_offset 14, -4
 1679 0002 86B0     		sub	sp, sp, #24
 1680              		.cfi_def_cfa_offset 32
 1681 0004 00AF     		add	r7, sp, #0
 1682              		.cfi_def_cfa_register 7
 1683 0006 B960     		str	r1, [r7, #8]
 1684 0008 7A60     		str	r2, [r7, #4]
 1685 000a 3B60     		str	r3, [r7]
 1686 000c 0346     		mov	r3, r0
 1687 000e FB73     		strb	r3, [r7, #15]
1137:../Generated_Code/usb_framework.c ****     uint_8 status;
1138:../Generated_Code/usb_framework.c **** 	uint_8 device_status;
1139:../Generated_Code/usb_framework.c ****     
1140:../Generated_Code/usb_framework.c ****     UNUSED(setup_packet)
1141:../Generated_Code/usb_framework.c **** 	*size = FRAME_SIZE;
 1688              		.loc 1 1141 0
 1689 0010 3B68     		ldr	r3, [r7]
 1690 0012 0222     		movs	r2, #2
 1691 0014 1A80     		strh	r2, [r3]	@ movhi
1142:../Generated_Code/usb_framework.c **** 
1143:../Generated_Code/usb_framework.c **** 	/* Get the frame number */
1144:../Generated_Code/usb_framework.c **** 	status = _usb_device_get_status(&controller_ID, USB_STATUS_SOF_COUNT,
 1692              		.loc 1 1144 0
 1693 0016 07F10F02 		add	r2, r7, #15
 1694 001a 07F11603 		add	r3, r7, #22
 1695 001e 1046     		mov	r0, r2
 1696 0020 0521     		movs	r1, #5
 1697 0022 1A46     		mov	r2, r3
 1698 0024 FFF7FEFF 		bl	_usb_device_get_status
 1699 0028 0346     		mov	r3, r0
 1700 002a FB75     		strb	r3, [r7, #23]
1145:../Generated_Code/usb_framework.c **** 									&device_status);
1146:../Generated_Code/usb_framework.c **** 	g_std_framework_data = (uint_16)device_status;
 1701              		.loc 1 1146 0
 1702 002c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 1703 002e 1A46     		mov	r2, r3
 1704 0030 044B     		ldr	r3, .L102
 1705 0032 1A80     		strh	r2, [r3]	@ movhi
1147:../Generated_Code/usb_framework.c **** 	*data = (uint_8_ptr)&g_std_framework_data;
 1706              		.loc 1 1147 0
 1707 0034 7B68     		ldr	r3, [r7, #4]
 1708 0036 034A     		ldr	r2, .L102
 1709 0038 1A60     		str	r2, [r3]
1148:../Generated_Code/usb_framework.c **** 
1149:../Generated_Code/usb_framework.c **** 	return status;    
 1710              		.loc 1 1149 0
 1711 003a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1150:../Generated_Code/usb_framework.c **** }
 1712              		.loc 1 1150 0
 1713 003c 1846     		mov	r0, r3
 1714 003e 1837     		adds	r7, r7, #24
 1715 0040 BD46     		mov	sp, r7
 1716              		@ sp needed
 1717 0042 80BD     		pop	{r7, pc}
 1718              	.L103:
 1719              		.align	2
 1720              	.L102:
 1721 0044 00000000 		.word	g_std_framework_data
 1722              		.cfi_endproc
 1723              	.LFE17:
 1725              		.section	.text.USB_Strd_Req_Get_Descriptor,"ax",%progbits
 1726              		.align	2
 1727              		.thumb
 1728              		.thumb_func
 1730              	USB_Strd_Req_Get_Descriptor:
 1731              	.LFB18:
1151:../Generated_Code/usb_framework.c **** 
1152:../Generated_Code/usb_framework.c **** 
1153:../Generated_Code/usb_framework.c **** /**************************************************************************//*!
1154:../Generated_Code/usb_framework.c ****  *
1155:../Generated_Code/usb_framework.c ****  * @name  USB_Std_Req_Get_Descriptor
1156:../Generated_Code/usb_framework.c ****  *
1157:../Generated_Code/usb_framework.c ****  * @brief  This function is called in response to Get Descriptor request
1158:../Generated_Code/usb_framework.c ****  *
1159:../Generated_Code/usb_framework.c ****  * @param controller_ID : Controller ID
1160:../Generated_Code/usb_framework.c ****  * @param setup_packet  : Setup packet received
1161:../Generated_Code/usb_framework.c ****  * @param data          : Data to be send back
1162:../Generated_Code/usb_framework.c ****  * @param size          : Size to be returned
1163:../Generated_Code/usb_framework.c ****  *
1164:../Generated_Code/usb_framework.c ****  * @return status:
1165:../Generated_Code/usb_framework.c ****  *               USB_OK : When Successfull
1166:../Generated_Code/usb_framework.c ****  *               Others : When Error
1167:../Generated_Code/usb_framework.c ****  *
1168:../Generated_Code/usb_framework.c ****  ******************************************************************************
1169:../Generated_Code/usb_framework.c ****  * This is a ch9 request and is used to send the descriptor requested by the
1170:../Generated_Code/usb_framework.c ****  * host
1171:../Generated_Code/usb_framework.c ****  *****************************************************************************/
1172:../Generated_Code/usb_framework.c **** static uint_8 USB_Strd_Req_Get_Descriptor (
1173:../Generated_Code/usb_framework.c ****     uint_8    controller_ID,            /* [IN] Controller ID */
1174:../Generated_Code/usb_framework.c ****     USB_SETUP_STRUCT * setup_packet,    /* [IN] Setup packet received */
1175:../Generated_Code/usb_framework.c ****     uint_8_ptr *data,                   /* [OUT] Data to be send back */
1176:../Generated_Code/usb_framework.c ****     USB_PACKET_SIZE *size               /* [OUT] Size to be returned */
1177:../Generated_Code/usb_framework.c **** )
1178:../Generated_Code/usb_framework.c **** {
 1732              		.loc 1 1178 0
 1733              		.cfi_startproc
 1734              		@ args = 0, pretend = 0, frame = 24
 1735              		@ frame_needed = 1, uses_anonymous_args = 0
 1736 0000 90B5     		push	{r4, r7, lr}
 1737              		.cfi_def_cfa_offset 12
 1738              		.cfi_offset 4, -12
 1739              		.cfi_offset 7, -8
 1740              		.cfi_offset 14, -4
 1741 0002 89B0     		sub	sp, sp, #36
 1742              		.cfi_def_cfa_offset 48
 1743 0004 02AF     		add	r7, sp, #8
 1744              		.cfi_def_cfa 7, 40
 1745 0006 B960     		str	r1, [r7, #8]
 1746 0008 7A60     		str	r2, [r7, #4]
 1747 000a 3B60     		str	r3, [r7]
 1748 000c 0346     		mov	r3, r0
 1749 000e FB73     		strb	r3, [r7, #15]
1179:../Generated_Code/usb_framework.c ****     uint_8 type = USB_uint_16_high(setup_packet->value);	
 1750              		.loc 1 1179 0
 1751 0010 BB68     		ldr	r3, [r7, #8]
 1752 0012 5B88     		ldrh	r3, [r3, #2]
 1753 0014 1B0A     		lsrs	r3, r3, #8
 1754 0016 9BB2     		uxth	r3, r3
 1755 0018 FB75     		strb	r3, [r7, #23]
1180:../Generated_Code/usb_framework.c ****     uint_16 index = (uint_16)UNINITIALISED_VAL;
 1756              		.loc 1 1180 0
 1757 001a 4FF6FF73 		movw	r3, #65535
 1758 001e BB82     		strh	r3, [r7, #20]	@ movhi
1181:../Generated_Code/usb_framework.c ****     uint_8 str_num = (uint_8)UNINITIALISED_VAL;
 1759              		.loc 1 1181 0
 1760 0020 FF23     		movs	r3, #255
 1761 0022 FB74     		strb	r3, [r7, #19]
1182:../Generated_Code/usb_framework.c ****     uint_8 status;
1183:../Generated_Code/usb_framework.c **** 
1184:../Generated_Code/usb_framework.c **** 		/* for string descriptor set the language and string number */
1185:../Generated_Code/usb_framework.c **** 		index = setup_packet->index;
 1762              		.loc 1 1185 0
 1763 0024 BB68     		ldr	r3, [r7, #8]
 1764 0026 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1765 0028 BB82     		strh	r3, [r7, #20]	@ movhi
1186:../Generated_Code/usb_framework.c **** 		/*g_setup_pkt.lValue*/
1187:../Generated_Code/usb_framework.c **** 		str_num = USB_uint_16_low(setup_packet->value);
 1766              		.loc 1 1187 0
 1767 002a BB68     		ldr	r3, [r7, #8]
 1768 002c 5B88     		ldrh	r3, [r3, #2]
 1769 002e FB74     		strb	r3, [r7, #19]
1188:../Generated_Code/usb_framework.c **** 
1189:../Generated_Code/usb_framework.c **** 	/* Call descriptor class to get descriptor */
1190:../Generated_Code/usb_framework.c **** 	status = USB_Desc_Get_Descriptor(controller_ID, type, str_num, index, data, size);
 1770              		.loc 1 1190 0
 1771 0030 F87B     		ldrb	r0, [r7, #15]	@ zero_extendqisi2
 1772 0032 F97D     		ldrb	r1, [r7, #23]	@ zero_extendqisi2
 1773 0034 FA7C     		ldrb	r2, [r7, #19]	@ zero_extendqisi2
 1774 0036 BB8A     		ldrh	r3, [r7, #20]
 1775 0038 7C68     		ldr	r4, [r7, #4]
 1776 003a 0094     		str	r4, [sp]
 1777 003c 3C68     		ldr	r4, [r7]
 1778 003e 0194     		str	r4, [sp, #4]
 1779 0040 FFF7FEFF 		bl	USB_Desc_Get_Descriptor
 1780 0044 0346     		mov	r3, r0
 1781 0046 BB74     		strb	r3, [r7, #18]
1191:../Generated_Code/usb_framework.c **** 	
1192:../Generated_Code/usb_framework.c **** 	return status;     
 1782              		.loc 1 1192 0
 1783 0048 BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
1193:../Generated_Code/usb_framework.c **** }
 1784              		.loc 1 1193 0
 1785 004a 1846     		mov	r0, r3
 1786 004c 1C37     		adds	r7, r7, #28
 1787 004e BD46     		mov	sp, r7
 1788              		@ sp needed
 1789 0050 90BD     		pop	{r4, r7, pc}
 1790              		.cfi_endproc
 1791              	.LFE18:
 1793 0052 00BF     		.text
 1794              	.Letext0:
 1795              		.file 2 "../Generated_Code/types.h"
 1796              		.file 3 "../Generated_Code/usb_devapi.h"
 1797              		.file 4 "../Generated_Code/usb_class.h"
DEFINED SYMBOLS
                            *ABS*:00000000 usb_framework.c
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:21     .bss.g_setup_pkt:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:24     .bss.g_setup_pkt:00000000 g_setup_pkt
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:27     .bss.g_std_framework_data:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:30     .bss.g_std_framework_data:00000000 g_std_framework_data
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:35     .bss.g_assigned_address:00000000 g_assigned_address
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:36     .bss.g_assigned_address:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:38     .bss.g_framework_callback:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:41     .bss.g_framework_callback:00000000 g_framework_callback
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:44     .bss.g_other_req_callback:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:47     .bss.g_other_req_callback:00000000 g_other_req_callback
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:50     .text.USB_Get_Framework_Callback:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:55     .text.USB_Get_Framework_Callback:00000000 USB_Get_Framework_Callback
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:80     .text.USB_Get_Framework_Callback:00000014 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:85     .text.USB_Set_Framework_Callback:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:90     .text.USB_Set_Framework_Callback:00000000 USB_Set_Framework_Callback
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:118    .text.USB_Set_Framework_Callback:00000018 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:123    .text.USB_Get_OtherRequest_Callback:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:128    .text.USB_Get_OtherRequest_Callback:00000000 USB_Get_OtherRequest_Callback
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:152    .text.USB_Get_OtherRequest_Callback:00000014 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:157    .text.USB_Set_OtherRequest_Callback:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:162    .text.USB_Set_OtherRequest_Callback:00000000 USB_Set_OtherRequest_Callback
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:190    .text.USB_Set_OtherRequest_Callback:00000018 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:199    .rodata.g_validate_request:00000000 g_validate_request
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:196    .rodata.g_validate_request:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:240    .bss.ext_req_to_host:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:243    .bss.ext_req_to_host:00000000 ext_req_to_host
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:250    .rodata.g_standard_request:00000000 g_standard_request
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:247    .rodata.g_standard_request:00000000 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:782    .text.USB_Strd_Req_Get_Status:00000000 USB_Strd_Req_Get_Status
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1012   .text.USB_Strd_Req_Feature:00000000 USB_Strd_Req_Feature
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1247   .text.USB_Strd_Req_Set_Address:00000000 USB_Strd_Req_Set_Address
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1730   .text.USB_Strd_Req_Get_Descriptor:00000000 USB_Strd_Req_Get_Descriptor
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1359   .text.USB_Strd_Req_Get_Config:00000000 USB_Strd_Req_Get_Config
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1423   .text.USB_Strd_Req_Set_Config:00000000 USB_Strd_Req_Set_Config
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1534   .text.USB_Strd_Req_Get_Interface:00000000 USB_Strd_Req_Get_Interface
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1603   .text.USB_Strd_Req_Set_Interface:00000000 USB_Strd_Req_Set_Interface
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1669   .text.USB_Strd_Req_Sync_Frame:00000000 USB_Strd_Req_Sync_Frame
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:265    .text.USB_Framework_Init:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:270    .text.USB_Framework_Init:00000000 USB_Framework_Init
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:318    .text.USB_Framework_Init:00000038 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:417    .text.USB_Control_Service:00000000 USB_Control_Service
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:325    .text.USB_Framework_DeInit:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:330    .text.USB_Framework_DeInit:00000000 USB_Framework_DeInit
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:372    .text.USB_Framework_DeInit:00000030 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:378    .text.USB_Framework_Reset:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:383    .text.USB_Framework_Reset:00000000 USB_Framework_Reset
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:412    .text.USB_Control_Service:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:698    .text.USB_Control_Service_Handler:00000000 USB_Control_Service_Handler
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1302   .text.USB_Strd_Req_Assign_Address:00000000 USB_Strd_Req_Assign_Address
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:684    .text.USB_Control_Service:000001c4 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:694    .text.USB_Control_Service_Handler:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:778    .text.USB_Strd_Req_Get_Status:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1003   .text.USB_Strd_Req_Get_Status:0000016c $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1008   .text.USB_Strd_Req_Feature:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1238   .text.USB_Strd_Req_Feature:00000170 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1243   .text.USB_Strd_Req_Set_Address:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1293   .text.USB_Strd_Req_Set_Address:00000038 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1298   .text.USB_Strd_Req_Assign_Address:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1350   .text.USB_Strd_Req_Assign_Address:00000040 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1355   .text.USB_Strd_Req_Get_Config:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1414   .text.USB_Strd_Req_Get_Config:00000048 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1419   .text.USB_Strd_Req_Set_Config:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1525   .text.USB_Strd_Req_Set_Config:00000098 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1530   .text.USB_Strd_Req_Get_Interface:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1594   .text.USB_Strd_Req_Get_Interface:0000004c $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1599   .text.USB_Strd_Req_Set_Interface:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1665   .text.USB_Strd_Req_Sync_Frame:00000000 $t
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1721   .text.USB_Strd_Req_Sync_Frame:00000044 $d
C:\Users\Aron\AppData\Local\Temp\ccxazrNt.s:1726   .text.USB_Strd_Req_Get_Descriptor:00000000 $t
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.0.22dcf9ce9babd46e5ea858ea4400d115
                           .group:00000000 wm4.stddef.h.39.daafd3d79fe2f3a84d2d73d7d4e706f8
                           .group:00000000 wm4.types.h.50.034d0729b1885c66fd44563eba5494e4
                           .group:00000000 wm4.hidef.h.47.6ef7d215344a2f057d0c5b3f27c726aa
                           .group:00000000 wm4.features.h.22.6a4ca7cd053637cc1d0db6c16f39b2d7
                           .group:00000000 wm4._default_types.h.15.8b2cb27e528498f8ff711db085d6e489
                           .group:00000000 wm4.stdint.h.20.796e373797e732130a803d4c0338fa1b
                           .group:00000000 wm4.PE_Types.h.111.91c29732807f8842161a15451efcd747
                           .group:00000000 wm4.PE_Error.h.60.6ccf96637e85421388d147a5dcbc3621
                           .group:00000000 wm4.PE_Const.h.60.44eca2ca2a72148441f11b3e43b344a9
                           .group:00000000 wm4.MK22F12.h.59.83dcc0895f45d7d67f2182a38aa7f04f
                           .group:00000000 wm4.Cpu.h.80.27ab3269a1d751f899c04690559be7d6
                           .group:00000000 wm4.FSL_USB_Stack_Config.h.5.a51a5d818e84d127c6c2fe6362a5c643
                           .group:00000000 wm4.usb_user_config.h.47.47e295f338247e629ef1110422279558
                           .group:00000000 wm4.usb_devapi.h.60.9ad576a4fab4e64ae00ce9daf4685bf6
                           .group:00000000 wm4.usb_class.h.55.92808305847d365ece574c9f6c1494ae
                           .group:00000000 wm4.usb_descriptor.h.22.8ce00718dc8831c9823675dd75db5e93
                           .group:00000000 wm4.usb_framework.h.52.a25a6e7fafc6a07277aff719344526fc
                           .group:00000000 wm4.newlib.h.8.fec018e441fee7bfa1923812ad010f97
                           .group:00000000 wm4.config.h.212.4163ef2871a828c674038d036b081cfd
                           .group:00000000 wm4._ansi.h.23.2147fde150631f5584b9dc29b914d1b8
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4._types.h.54.d3d34a3b7f3cc230cd159baf022b4b08
                           .group:00000000 wm4.stddef.h.158.61317cdbfb4026324507d123a50b0fd6
                           .group:00000000 wm4.reent.h.17.8bd9e4098e0428508c282cad794fae43
                           .group:00000000 wm4.cdefs.h.56.a2d04de9d47039852021e66fca39bb58
                           .group:00000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:00000000 wm4.stddef.h.158.a7efb00f6cbc6f43213b50e183c9830c

UNDEFINED SYMBOLS
_usb_device_register_service
_usb_device_unregister_service
_usb_device_get_status
memcpy
_usb_device_recv_data
_usb_device_set_status
USB_Class_Send_Data
USB_Desc_Get_Descriptor
_usb_device_clear_data0_endpoint
_usb_device_set_address
USB_Desc_Valid_Configation
USB_Desc_Get_Interface
USB_Desc_Set_Interface
